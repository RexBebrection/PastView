{"version":3,"file":"js/app.e6ae2f27.js","mappings":"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","sources":["webpack://diploma-bach/./src/App.vue","webpack://diploma-bach/./src/App.vue?7ccd","webpack://diploma-bach/./src/views/HomeView.vue","webpack://diploma-bach/./src/components/Navbar.vue","webpack://diploma-bach/./src/components/Navbar.vue?436b","webpack://diploma-bach/./src/components/Footer.vue","webpack://diploma-bach/./src/components/Footer.vue?7cca","webpack://diploma-bach/./src/views/HomeView.vue?1da1","webpack://diploma-bach/./src/views/Start.vue","webpack://diploma-bach/./src/components/BackgroundSlider.vue","webpack://diploma-bach/./src/components/BackgroundSlider.vue?cae9","webpack://diploma-bach/./src/views/Start.vue?6c97","webpack://diploma-bach/./src/views/Login.vue","webpack://diploma-bach/./src/views/Login.vue?240b","webpack://diploma-bach/./src/views/Registration.vue","webpack://diploma-bach/./src/views/Registration.vue?49a0","webpack://diploma-bach/./src/views/Profile.vue","webpack://diploma-bach/./src/views/Profile.vue?24e8","webpack://diploma-bach/./src/views/CreateLocation.vue","webpack://diploma-bach/./src/views/CreateLocation.vue?c36d","webpack://diploma-bach/./src/views/Approve.vue","webpack://diploma-bach/./src/views/Approve.vue?2f10","webpack://diploma-bach/./src/views/MyPublications.vue","webpack://diploma-bach/./src/views/MyPublications.vue?57c3","webpack://diploma-bach/./src/views/EditLocation.vue","webpack://diploma-bach/./src/views/EditLocation.vue?3302","webpack://diploma-bach/./src/router/index.js","webpack://diploma-bach/./src/main.js","webpack://diploma-bach/webpack/bootstrap","webpack://diploma-bach/webpack/runtime/chunk loaded","webpack://diploma-bach/webpack/runtime/compat get default export","webpack://diploma-bach/webpack/runtime/define property getters","webpack://diploma-bach/webpack/runtime/global","webpack://diploma-bach/webpack/runtime/hasOwnProperty shorthand","webpack://diploma-bach/webpack/runtime/publicPath","webpack://diploma-bach/webpack/runtime/jsonp chunk loading","webpack://diploma-bach/webpack/startup"],"sourcesContent":["<template>\n  <nav> \n  </nav>\n  <router-view/>\n</template>\n\n\n\n<style>\nhtml, body {\n  background-color: black;\n  background-image: url('./assets/AlterBackground.webp');\n  background-size: cover;\n  background-position: center;\n  background-repeat: no-repeat;\n  font-family: 'Montserrat', sans-serif;\n  color: white;\n  margin: 0;\n  padding: 0;\n  scrollbar-face-color: #646464;\n  scrollbar-base-color: #646464;\n  scrollbar-3dlight-color: #646464;\n  scrollbar-highlight-color: #646464;\n  scrollbar-track-color: #000;\n  scrollbar-arrow-color: #000;\n  scrollbar-shadow-color: #646464;\n}\n::-webkit-scrollbar { width: 8px; height: 3px;}\n::-webkit-scrollbar-button {  background-color: #666; }\n::-webkit-scrollbar-track {  background-color: #646464;}\n::-webkit-scrollbar-track-piece { background-color: #000;}\n::-webkit-scrollbar-thumb { height: 50px; background-color: #666; border-radius: 3px;}\n::-webkit-scrollbar-corner { background-color: #646464;}\n::-webkit-resizer { background-color: #666;}\nbutton {\n  font-family: 'Montserrat', sans-serif;\n}\n\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=b8499346\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=b8499346&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <Navbar />\n  <div class=\"home\">\n    <div class=\"home-content\">\n      <p class=\"home-title\">Інтерактивна ретро-карта міста Львів</p>\n      <div class=\"home-info-container\">\n        <div class=\"map-border\">\n          <div ref=\"mapContainer\" class=\"map\"></div>\n        </div>\n        <div class=\"home-info-list\">\n          <div class=\"search-bar\">\n            <input type=\"text\" v-model=\"searchQuery\" placeholder=\"Пошук...\" />\n          </div>\n          <div\n            class=\"home-info-item\"\n            v-for=\"(item, index) in filteredItems\"\n            :key=\"index\"\n            @click=\"focusOnLocation(item)\"\n          >\n            <div class=\"street-name\">{{ item.street }}</div>\n            <div class=\"profile-info-home\">\n              <img\n                :src=\"item.profileImage\"\n                alt=\"Profile\"\n                class=\"profile-image-home\"\n              />\n              <p class=\"profile-name\">{{ item.username }}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div v-if=\"selectedLocation\" class=\"location-details\">\n        <div class=\"location-details-left\">\n          <div class=\"location-details-data\">\n            <p>{{ selectedLocation.street }}</p>\n            <p>Copyright: @{{ selectedLocation.username }}</p>\n          </div>\n          <div class=\"location-details-comments\">\n            <form @submit.prevent=\"addComment\">\n              <input\n                type=\"text\"\n                v-model=\"newComment\"\n                placeholder=\"Напиши коментар...\"\n              />\n              <button type=\"submit\">Додати</button>\n            </form>\n\n            <div class=\"comments\">\n              <p v-if=\"comments.length === 0\">Коментарів поки немає.</p>\n              <ul>\n                <li\n                  v-for=\"(comment, index) in comments\"\n                  :key=\"index\"\n                  class=\"comment-item\"\n                >\n                  <img\n                    :src=\"comment.profileImage\"\n                    alt=\"avatar\"\n                    class=\"comment-avatar\"\n                  />\n                  <div>\n                    <p class=\"comment-username\">{{ comment.username }}</p>\n                    <p class=\"comment-text\">{{ comment.text }}</p>\n                  </div>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n        <div class=\"location-details-right\">\n          <img\n            :src=\"selectedLocation.locationImage\"\n            @click=\"openFullscreen()\"\n            alt=\"Large Location\"\n            class=\"large-photo\"\n          />\n          <div class=\"location-navigation\">\n            <button @click=\"goToPreviousLocation\" :disabled=\"!hasPrevious\">\n              ←\n            </button>\n            <button @click=\"goToNextLocation\" :disabled=\"!hasNext\">→</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div\n    v-if=\"isFullscreenVisible\"\n    class=\"fullscreen-overlay\"\n    @click.self=\"closeFullscreen\"\n  >\n    <div class=\"fullscreen-content\">\n      <p class=\"fullscreen-street\">\n        {{ selectedLocation.street }} Copyright: @{{ selectedLocation.username }}\n      </p>\n      <img\n        :src=\"selectedLocation.locationImage\"\n        alt=\"Location\"\n        class=\"fullscreen-image\"\n      />\n      <button class=\"close-btn\" @click=\"closeFullscreen\">✕</button>\n    </div>\n  </div>\n\n  <Footer />\n</template>\n\n<script>\nimport Navbar from \"@/components/Navbar.vue\";\nimport Footer from \"@/components/Footer.vue\";\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\nimport {\n  getFirestore,\n  collection,\n  query,\n  getDocs,\n  where,\n  doc,\n  getDoc,\n  addDoc,\n} from \"firebase/firestore\";\nimport mapboxgl from \"mapbox-gl\";\n\nexport default {\n  components: {\n    Navbar,\n    Footer,\n  },\n  data() {\n    return {\n      searchQuery: \"\",\n      locations: [],\n      map: null,\n      selectedLocation: null,\n      comments: [],\n      newComment: \"\",\n      currentUser: {\n        username: \"\",\n        profileImage: \"\",\n      },\n      isFullscreenVisible: false,\n    };\n  },\n  computed: {\n    filteredItems() {\n      return this.locations.filter((item) =>\n        item.street.toLowerCase().includes(this.searchQuery.toLowerCase())\n      );\n    },\n    currentIndex() {\n      return this.locations.findIndex(\n        (loc) => loc.id === this.selectedLocation?.id\n      );\n    },\n    hasPrevious() {\n      return this.currentIndex > 0;\n    },\n    hasNext() {\n      return this.currentIndex < this.locations.length - 1;\n    },\n  },\n  watch: {\n    selectedLocation(newVal) {\n      if (newVal) {\n        this.loadComments(newVal.id);\n      }\n    },\n  },\n\n  methods: {\n    async fetchLocations() {\n      const db = getFirestore();\n      const q = query(\n        collection(db, \"locations\"),\n        where(\"status\", \"==\", \"approved\")\n      );\n      const querySnapshot = await getDocs(q);\n      const locationsWithPhotos = await Promise.all(\n        querySnapshot.docs.map(async (docSnap) => {\n          const data = docSnap.data();\n          const coordinates = data.coordinates;\n\n          if (\n            !coordinates ||\n            isNaN(coordinates.lat) ||\n            isNaN(coordinates.lng)\n          ) {\n            console.error(`Некоректні координати для локації ${docSnap.id}`);\n            return null;\n          }\n\n          const userUid = data.userUid;\n          const userRef = doc(db, \"users\", userUid);\n          const userSnap = await getDoc(userRef);\n\n          let profilePicture = \"/default-avatar.png\";\n          let username = \"Анонім\";\n\n          if (userSnap.exists()) {\n            const userData = userSnap.data();\n            profilePicture = userData.profilePicture || profilePicture;\n            username = userData.username || username;\n          } else {\n            console.error(`Не знайдено користувача з UID ${userUid}`);\n          }\n\n          return {\n            id: docSnap.id,\n            street: data.address,\n            profileImage: profilePicture,\n            username: username,\n            coordinates: [coordinates.lng, coordinates.lat],\n            locationImage: data.imageUrl || \"/default-location.jpg\",\n          };\n        })\n      );\n\n      this.locations = locationsWithPhotos.filter((item) => item !== null);\n\n      this.locations.forEach((location) => {\n        const el = document.createElement(\"div\");\n        el.className = \"custom-marker\";\n        el.style.backgroundImage =\n          \"url('https://firebasestorage.googleapis.com/v0/b/kursova-5374b.appspot.com/o/bach%2FPointerBlicking.png?alt=media&token=836b276d-467a-4239-8848-8a6ce42a941e')\";\n        el.style.width = \"40px\";\n        el.style.height = \"40px\";\n        el.style.backgroundSize = \"cover\";\n        el.style.cursor = \"pointer\";\n\n        const marker = new mapboxgl.Marker(el)\n          .setLngLat(location.coordinates)\n          .setPopup(\n            new mapboxgl.Popup().setHTML(`\n        <img class=\"photo-preview\" src=\"${location.locationImage}\" alt=\"Location Photo\" \">\n        <p class=\"text-preview\" style=\"margin-top: 4px;\">${location.street}</p>\n      `)\n          )\n          .addTo(this.map);\n\n        el.addEventListener(\"click\", () => {\n          this.selectedLocation = location;\n        });\n      });\n    },\n    focusOnLocation(item) {\n      this.map.flyTo({ center: item.coordinates, zoom: 15 });\n      this.selectedLocation = item;\n    },\n    async addComment() {\n      if (!this.newComment.trim() || !this.selectedLocation) return;\n\n      const auth = getAuth();\n      const user = auth.currentUser;\n\n      if (!user) {\n        console.error(\"User is not logged in.\");\n        return;\n      }\n\n      const db = getFirestore();\n      const userRef = doc(db, \"users\", user.uid);\n      const userSnap = await getDoc(userRef);\n\n      if (!userSnap.exists()) {\n        console.error(`Користувач з UID ${user.uid} не знайдений.`);\n        return;\n      }\n\n      const userData = userSnap.data();\n      const username = userData.username || \"Анонім\";\n      const profileImage = userData.profilePicture || \"/default-avatar.png\";\n\n      const commentsRef = collection(\n        db,\n        \"locations\",\n        this.selectedLocation.id,\n        \"comments\"\n      );\n\n      await addDoc(commentsRef, {\n        text: this.newComment,\n        createdAt: new Date(),\n        userUid: user.uid,\n        username: username,\n        profileImage: profileImage,\n      });\n\n      this.newComment = \"\";\n      this.loadComments(this.selectedLocation.id);\n    },\n    async loadComments(locationId) {\n      const db = getFirestore();\n      const commentsRef = collection(db, \"locations\", locationId, \"comments\");\n      const snapshot = await getDocs(commentsRef);\n\n      // Мапимо коментарі, і дані вже є в самих коментарях\n      this.comments = snapshot.docs.map((doc) => doc.data());\n    },\n    goToPreviousLocation() {\n      if (this.hasPrevious) {\n        const prev = this.locations[this.currentIndex - 1];\n        this.focusOnLocation(prev);\n      }\n    },\n    goToNextLocation() {\n      if (this.hasNext) {\n        const next = this.locations[this.currentIndex + 1];\n        this.focusOnLocation(next);\n      }\n    },\n    openFullscreen() {\n      this.isFullscreenVisible = true;\n    },\n    closeFullscreen() {\n      this.isFullscreenVisible = false;\n    },\n  },\n  mounted() {\n    mapboxgl.accessToken =\n      \"pk.eyJ1IjoibHZxMWljZW1hbiIsImEiOiJjbHU4ZmtuZ2MwYzRvMm9yeGQzZnBycjBkIn0.u4QC3601L2OcFCzw8kzvmw\";\n    this.map = new mapboxgl.Map({\n      container: this.$refs.mapContainer,\n      style: \"mapbox://styles/lvq1iceman/cm9ootxch009b01qs40wa1c8q\",\n      center: [24.0315, 49.8397],\n      zoom: 13,\n    });\n    window.addEventListener(\"resize\", () => {\n      if (this.map) {\n        this.map.resize();\n      }\n    });\n    this.fetchLocations();\n    const auth = getAuth();\n    onAuthStateChanged(auth, async (user) => {\n      if (user) {\n        const db = getFirestore();\n        const userRef = doc(db, \"users\", user.uid);\n        const userSnap = await getDoc(userRef);\n        if (userSnap.exists()) {\n          const userData = userSnap.data();\n          const profilePicture =\n            userData.profilePicture || \"/default-avatar.png\";\n          const username = userData.username || \"Анонім\";\n\n          if (userSnap.exists()) {\n            const userData = userSnap.data();\n            this.currentUser = {\n              uid: user.uid,\n              username: userData.username || \"Анонім\",\n              profileImage: userData.profilePicture || \"/default-avatar.png\",\n            };\n          }\n        } else {\n          console.error(`Не знайдено користувача з UID ${userUid}`);\n          return null;\n        }\n      }\n    });\n  },\n};\n</script>\n\n<style>\n.home {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-bottom: 40px;\n  min-height: 100vh;\n}\n\n.home-content {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  position: relative;\n  width: 1200px;\n}\n\n.home-title {\n  font-size: 21px;\n  margin: 30px 0 10px 0;\n}\n\n.home-info-container {\n  display: flex;\n  flex-direction: row;\n  gap: 20px;\n  margin-top: 20px;\n  width: 100%;\n}\n\n.home-info-list {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  background-color: black;\n  border-radius: 3px;\n  padding: 60px 10px 20px 20px;\n  width: 30%;\n  overflow-y: auto;\n  flex: 1;\n  color: white;\n  height: 370px;\n  scrollbar-width: thin;\n}\n\n.search-bar {\n  margin-bottom: 20px;\n  width: 275px;\n  height: 70px;\n  background-color: black;\n  position: absolute;\n  margin: -60px -20px -20px -20px;\n  align-items: center;\n  display: flex;\n  justify-content: center;\n}\n\n.search-bar input {\n  width: 220px;\n  padding: 7px;\n  border: 2px solid #fff;\n  background-color: #000;\n  color: #fff;\n  font-size: 16px;\n  border-radius: 0;\n}\n\n.map-border {\n  padding: 25px;\n  width: 70%;\n  background-color: black;\n}\n\n.map {\n  width: 100%;\n  height: 400px;\n  position: relative;\n  overflow: hidden;\n}\n\n.home-info-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 10px 10px 0px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.street-name {\n  flex: 1;\n  font-size: 13px;\n  font-weight: 400;\n  max-width: 160px;\n}\n\n.profile-info-home {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n  width: 50px;\n}\n\n.profile-image-home {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  object-fit: cover;\n  margin-bottom: 5px;\n}\n\n.profile-name {\n  font-size: 12px;\n  font-weight: 400;\n  font-weight: normal;\n  margin: 0;\n}\n.custom-marker {\n  border-radius: 50%;\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.3);\n}\n\n.location-details {\n  margin-top: 20px;\n  color: #fff;\n  display: flex;\n  flex-direction: row;\n  gap: 55px;\n}\n\n.location-details-left {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  width: 55%;\n}\n\n.location-details-data {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  gap: 10px;\n  justify-content: start;\n  background-color: black;\n  padding: 20px;\n}\n\n.location-details-data p {\n  margin: 0;\n  font-size: 0.9rem;\n}\n\n.location-details-comments {\n  background-color: black;\n  padding: 20px 30px;\n  width: 97%;\n}\n\n.location-details-comments form {\n  display: flex;\n  flex-direction: row;\n  gap: 5px;\n}\n\n.location-details-comments form input {\n  width: 100%;\n  padding: 10px;\n  background-color: black;\n  border: 2px solid #fff;\n  color: #fff;\n  font-size: 0.8rem;\n  border-radius: 0;\n}\n\n.location-details-comments form button {\n  padding: 10px;\n  background-color: black;\n  border: 2px solid #fff;\n  color: #fff;\n  font-size: 0.8rem;\n  cursor: pointer;\n}\n\n.comments {\n  margin-top: 20px;\n  max-height: 200px;\n  overflow-y: auto;\n}\n\n.comments ul {\n  list-style: none;\n  padding: 0;\n}\n.comment-item {\n  display: flex;\n  align-items: center;\n  margin-bottom: 15px;\n}\n\n.comment-avatar {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  object-fit: cover;\n  margin-right: 10px;\n}\n\n.comment-username {\n  font-size: 0.95rem;\n  margin: 0;\n}\n\n.comment-text {\n  font-size: 0.9rem;\n  color: #7a7a7a;\n  margin: 0;\n}\n\n.location-details-right {\n  display: flex;\n  flex-direction: column;\n  width: 40%;\n  padding-top: 20px;\n  padding-bottom: 15px;\n  background-color: black;\n  justify-content: center;\n  align-items: center;\n  height: 300px;\n}\n.large-photo {\n  width: 435px;\n  height: 250px;\n  object-fit: cover;\n  margin-bottom: 10px;\n  border: 2px solid #fff;\n}\n.location-navigation {\n  display: flex;\n  justify-content: start;\n  align-items: start;\n  margin-top: 10px;\n  width: 100%;\n  padding-left: 40px;\n  gap: 15px;\n}\n.location-navigation button {\n  background-color: black;\n  border: 2px solid #fff;\n  color: #fff;\n  font-size: 0.8rem;\n  cursor: pointer;\n  width: 90px;\n  height: 25px;\n}\n\n.mapboxgl-popup-content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: black;\n  color: white;\n\n  border-radius: 4px;\n  font-size: 0.8rem;\n}\n.photo-preview {\n  width: 220px;\n  height: 115px;\n  object-fit: cover;\n}\n\n.text-preview {\n  font-size: 0.8rem;\n  color: white;\n  margin: 0;\n}\n.fullscreen-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background: rgba(0, 0, 0, 0.85);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  animation: fadeIn 0.3s ease;\n}\n\n.fullscreen-content {\n  position: relative;\n  text-align: center;\n  color: white;\n}\n\n.fullscreen-image {\n  max-width: 90vw;\n  max-height: 80vh;\n  object-fit: contain;\n  margin-top: 20px;\n}\n\n.fullscreen-street {\n  font-size: 1.4rem;\n  font-weight: bold;\n}\n\n.fullscreen-username {\n  margin-top: 8px;\n  font-size: 1rem;\n  opacity: 0.8;\n}\n\n.close-btn {\n  position: absolute;\n  top: 10px;\n  right: -80px;\n  font-size: 1.5rem;\n  background: transparent;\n  border: none;\n  color: white;\n  cursor: pointer;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n</style>\n","<template>\n  <nav>\n    <div class=\"navbar\">\n      <router-link to=\"/home\" class=\"navbar-item\">\n        <div class=\"navbar-brand\">\n          <img src=\"../assets/Logo(big).png\" />\n        </div>\n      </router-link>\n      <div class=\"navbar-menu\">\n        <div class=\"navbar-start\" v-if=\"user\">\n          <router-link to=\"/home\" class=\"navbar-item\" id=\"link\"\n            >Головна</router-link\n          >\n          <router-link\n            v-if=\"user.role !== 'moderator'\"\n            to=\"/create-location\"\n            class=\"navbar-item\"\n            id=\"link\"\n            >Додати локацію</router-link\n          >\n          <router-link\n            v-if=\"user.role !== 'moderator'\"\n            to=\"/my-publications\"\n            class=\"navbar-item\"\n            id=\"link\"\n          >\n            Мої публікації\n          </router-link>\n          <router-link\n            v-if=\"user.role == 'moderator'\"\n            to=\"/approve\"\n            class=\"navbar-item\"\n            id=\"link\"\n          >\n            Підтвердження\n          </router-link>\n          <a\n            href=\"mailto:someone@example.com\"\n            v-if=\"user.role !== 'moderator'\"\n            class=\"navbar-item\"\n            id=\"link\"\n          >\n            Написати відгук\n          </a>\n        </div>\n      </div>\n      <div class=\"navbar-profile\">\n        <template v-if=\"user\">\n          <router-link to=\"/profile\" class=\"navbar-profile-link\" id=\"link\">\n            <div class=\"profile-pic-wrapper\">\n              <img :src=\"user.profilePicture\" alt=\"Profile\" />\n            </div>\n            <p class=\"navbar-profile-email\">{{ user.email }}</p>\n          </router-link>\n        </template>\n        <template v-else>\n          <router-link to=\"/login\" class=\"navbar-item\" id=\"link\"\n            >Увійти</router-link\n          >\n          <router-link to=\"/registration\" class=\"navbar-item\" id=\"link\"\n            >Зареєструватись</router-link\n          >\n        </template>\n      </div>\n    </div>\n  </nav>\n</template>\n\n<script>\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\nimport { getFirestore, doc, getDoc } from \"firebase/firestore\";\n\nexport default {\n  data() {\n    return {\n      user: null,\n    };\n  },\n  created() {\n    const auth = getAuth();\n    auth.onAuthStateChanged(async (user) => {\n      if (user) {\n        this.user = user;\n        await this.fetchUserData(user.uid);\n      } else {\n        this.user = null;\n      }\n    });\n  },\n  methods: {\n    async fetchUserData(uid) {\n      const db = getFirestore();\n      const userRef = doc(db, \"users\", uid); // Колекція \"users\", документ за uid\n      const userDoc = await getDoc(userRef);\n      if (userDoc.exists()) {\n        this.user = {\n          ...this.user, // Зберігаємо основні дані\n          ...userDoc.data(), // додаємо дані з Firestore\n        };\n      } else {\n        console.log(\"User not found in Firestore\");\n      }\n    },\n    async logout() {\n      try {\n        await signOut(getAuth());\n        this.$router.push(\"/\");\n      } catch (error) {\n        console.error(\"Logout error\", error);\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.navbar {\n  background-color: black;\n  padding: 0px 10% 0px 10%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.navbar-brand img {\n  max-width: 50px;\n  height: auto;\n}\n\n.navbar-menu {\n  display: flex;\n  align-items: center;\n  margin-left: 1rem;\n}\n\n.navbar-start {\n  display: flex;\n  gap: 1%;\n  width: 600px;\n}\n\n.navbar-item {\n  color: white;\n  text-decoration: none;\n  padding: 0.5rem 1rem;\n  font-size: 0.9rem;\n}\n\n.navbar-profile {\n  display: flex;\n  align-items: center;\n  margin-left: auto;\n}\n\n.navbar-profile-link {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 15px;\n  text-decoration: none;\n  color: white;\n}\n\n.profile-pic-wrapper {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  overflow: hidden;\n  flex-shrink: 0;\n}\n\n.profile-pic-wrapper img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  display: block;\n}\n.navbar-profile-email {\n  font-size: 0.9rem;\n  margin-left: 0px;\n  color: white;\n}\n</style>\n","import { render } from \"./Navbar.vue?vue&type=template&id=5a3ad73c&scoped=true\"\nimport script from \"./Navbar.vue?vue&type=script&lang=js\"\nexport * from \"./Navbar.vue?vue&type=script&lang=js\"\n\nimport \"./Navbar.vue?vue&type=style&index=0&id=5a3ad73c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5a3ad73c\"]])\n\nexport default __exports__","<template>\n    <div class=\"footer\">\n        <img src=\"../assets/Logo(big).png\">\n    </div>\n</template>\n\n<style scoped>\n.footer {\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 120px;\n    background-color: black;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 1000;\n}\n\n.footer img {\n    width: 50px;\n    height: auto;\n}\n</style>\n","import { render } from \"./Footer.vue?vue&type=template&id=1a9f94d3&scoped=true\"\nconst script = {}\n\nimport \"./Footer.vue?vue&type=style&index=0&id=1a9f94d3&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1a9f94d3\"]])\n\nexport default __exports__","import { render } from \"./HomeView.vue?vue&type=template&id=046dfbe4\"\nimport script from \"./HomeView.vue?vue&type=script&lang=js\"\nexport * from \"./HomeView.vue?vue&type=script&lang=js\"\n\nimport \"./HomeView.vue?vue&type=style&index=0&id=046dfbe4&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"start\">\n    <BackgroundSlider />\n    <div class=\"island\">\n      <div class=\"island-border\">\n        <img src=\"../assets/Logo(big).png\" alt=\"Island\" class=\"island-image\" />\n        <p class=\"island-text\">\n          Ласкаво просимо до Past View — унікального сервісу, що переносить вас\n          у минуле міста. Натискайте на точки на карті, щоб побачити старовинні\n          фотографії та дізнатися історії цих місць. Зареєструйтеся, щоб\n          додавати власні знімки, коментувати й ділитися своїми враженнями.\n          Відчуйте історію міста по-новому!\n        </p>\n      </div>\n      <div class=\"island-buttons\">\n        <router-link to=\"/home\" class=\"button-i\">Почати</router-link>\n        <router-link to=\"/login\" class=\"button-i\">Увійти</router-link>\n        <router-link to=\"/registration\" class=\"button-i\"\n          >Зареєструватись</router-link\n        >\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BackgroundSlider from \"@/components/BackgroundSlider.vue\";\n\nexport default {\n  components: {\n    BackgroundSlider,\n  },\n};\n</script>\n\n<style scoped>\n.start {\n  height: 100vh;\n  overflow: hidden;\n  position: relative;\n}\n.island {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 3;\n  max-width: 800px;\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n.island-border {\n  border: 2px solid white;\n  padding: 10px 5%;\n  display: flex;\n  justify-content: center;\n  gap: 10%;\n  text-align: right;\n  font-size: 1.2rem;\n}\n.island-buttons {\n  display: flex;\n  justify-content: start;\n  gap: 25px;\n}\n.button-i {\n  background-color: black;\n  color: white;\n  padding: 10px 20px;\n\n  text-decoration: none;\n  font-size: 1.2rem;\n  border: 2px solid white;\n}\n</style>\n","<template>\n    <div class=\"background-slider\">\n      <div class=\"gallery\">\n        <div\n          class=\"gallery-item\"\n          v-for=\"(image, index) in images\"\n          :key=\"index\"\n          :class=\"{ active: index === currentIndex }\"\n        >\n          <img :src=\"image\" alt=\"gallery-image\" />\n        </div>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    name: \"BackgroundSlider\",\n    data() {\n      return {\n        currentIndex: 0,\n        images: [\n          \"https://firebasestorage.googleapis.com/v0/b/kursova-5374b.appspot.com/o/bach%2Fbackground%2Flviv-zgori.png?alt=media&token=8560ad72-e2e9-4930-a069-3113a37b9455\",\n          \"https://firebasestorage.googleapis.com/v0/b/kursova-5374b.appspot.com/o/bach%2Fbackground%2Fdvometrovi-stiny-snigu-na-vul.-stryjskij.-foto-1920-1930-h-rr.%202.png?alt=media&token=085ed21c-1c34-4afb-a181-b89149a4409c\",\n          \"https://firebasestorage.googleapis.com/v0/b/kursova-5374b.appspot.com/o/bach%2Fbackground%2Fpelchinskiy-stav-i-tsitadel-u-1893-rotsi.png?alt=media&token=6da1184d-113b-41d1-b0fc-9203cbd9cd44\",\n          \"https://firebasestorage.googleapis.com/v0/b/kursova-5374b.appspot.com/o/bach%2Fbackground%2Ftramvay-12-yide-vniz-po-vul.-krivonosa.png?alt=media&token=f3ffc1b1-686c-406c-8c65-c60b1897aa1d\"\n        ],\n      };\n    },\n    mounted() {\n      setInterval(() => {\n        this.currentIndex = (this.currentIndex + 1) % this.images.length;\n      }, 6000);\n    },\n  };\n  </script>\n  \n  <style scoped>\n  .background-slider {\n    height: 100vh;\n    overflow: hidden;\n    position: relative;\n  }\n  \n  .gallery {\n    display: flex;\n    height: 100%;\n    position: relative;\n  }\n  \n  .gallery-item {\n    min-width: 100%;\n    height: 100%;\n    position: absolute;\n    opacity: 0;\n    transition: opacity 0.5s ease-in-out;\n  }\n  \n  .gallery-item.active {\n    opacity: 1;\n    animation: slideIn 6s ease-out forwards;\n  }\n  \n  .gallery-item img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n  \n  .background-slider::before {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 45%;\n    height: 100%;\n    background-color: black;\n    z-index: 1;\n  }\n  \n  .background-slider::after {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    left: 45%;\n    width: 55%;\n    height: 100%;\n    background: linear-gradient(\n      to right,\n      rgba(0, 0, 0, 1) 0%,\n      rgba(0, 0, 0, 0.9) 10%,\n      rgba(0, 0, 0, 0.7) 55%,\n      rgba(0, 0, 0, 0.5) 100%\n    );\n    z-index: 2;\n  }\n  \n  @keyframes slideIn {\n    0% {\n      transform: translateX(45%);\n    }\n    100% {\n      transform: translateX(0);\n    }\n  }\n  </style>\n  ","import { render } from \"./BackgroundSlider.vue?vue&type=template&id=48cad606&scoped=true\"\nimport script from \"./BackgroundSlider.vue?vue&type=script&lang=js\"\nexport * from \"./BackgroundSlider.vue?vue&type=script&lang=js\"\n\nimport \"./BackgroundSlider.vue?vue&type=style&index=0&id=48cad606&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-48cad606\"]])\n\nexport default __exports__","import { render } from \"./Start.vue?vue&type=template&id=38f70244&scoped=true\"\nimport script from \"./Start.vue?vue&type=script&lang=js\"\nexport * from \"./Start.vue?vue&type=script&lang=js\"\n\nimport \"./Start.vue?vue&type=style&index=0&id=38f70244&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-38f70244\"]])\n\nexport default __exports__","<template>\n    <div class=\"start\">\n      <BackgroundSlider />\n      <div class=\"login-container\">\n        <img src=\"../assets/Logo(big).png\" alt=\"Logo\" class=\"logo-small\" />\n        <h2 class=\"login-title\">Вхід</h2>\n        <div class=\"login-inputs\">\n          <input\n            v-model=\"email\"\n            type=\"text\"\n            placeholder=\"Логін\"\n            class=\"login-input\"\n            :class=\"{'input-error': loginError}\"\n            @keyup.enter=\"login\"\n          />\n          <input\n            v-model=\"password\"\n            type=\"password\"\n            placeholder=\"Пароль\"\n            class=\"login-input\"\n            :class=\"{'input-error': loginError}\"\n            @keyup.enter=\"login\"\n          />\n        </div>\n        <div class=\"login-buttons\">\n          <button @click=\"login\" class=\"login-button\">Увійти</button>\n          <router-link to=\"/\" custom v-slot=\"{ navigate }\">\n            <button @click=\"navigate\" class=\"login-button\">Скасувати</button>\n          </router-link>\n        </div>\n        <div v-if=\"loginError\" class=\"error-text\">Неправильні логін або пароль</div>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\n  import BackgroundSlider from \"@/components/BackgroundSlider.vue\";\n  \n  export default {\n    components: {\n      BackgroundSlider,\n    },\n    data() {\n      return {\n        email: '',\n        password: '',\n        loginError: false, // Флаг для помилки\n      };\n    },\n    methods: {\n      async login() {\n        const auth = getAuth();\n        try {\n          await signInWithEmailAndPassword(auth, this.email, this.password);\n          console.log(\"Успішний вхід!\");\n          this.$router.push(\"/home\");\n          this.loginError = false; // При успішному вході, помилка скидається\n        } catch (error) {\n          console.error(\"Помилка входу:\", error.message);\n          this.loginError = true; // Якщо помилка, ставимо флаг\n        }\n      },\n    },\n  };\n  </script>\n  \n  <style scoped>\n  .start {\n    height: 100vh;\n    overflow: hidden;\n    position: relative;\n  }\n  \n  .login-container {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 3;\n    max-width: 350px;\n    width: 90%;\n    padding: 40px 30px;\n    border: 2px solid white;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 50px;\n    background-color: rgba(0, 0, 0, 0.4);\n  }\n  \n  .logo-small {\n    width: 60px;\n  }\n  \n  .login-title {\n    color: white;\n    font-size: 1.2rem;\n    font-weight: 400;\n    margin: 0;\n  }\n  \n  .login-inputs {\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    width: 80%;\n  }\n  \n  .login-input {\n    padding: 10px;\n    background: transparent;\n    border: none;\n    border-bottom: 2px solid white;\n    color: white;\n    font-size: 1rem;\n    outline: none;\n  }\n  \n  .login-input::placeholder {\n    color: white;\n    opacity: 0.7;\n  }\n  \n  .login-buttons {\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    width: 40%;\n  }\n  \n  .login-button {\n    width: 100%;\n    padding: 10px;\n    background: transparent;\n    color: white;\n    border: 2px solid white;\n    font-size: 0.8rem;\n    cursor: pointer;\n  }\n  \n  .login-input:-webkit-autofill,\n  .login-input:-webkit-autofill:hover,\n  .login-input:-webkit-autofill:focus,\n  .login-input:-webkit-autofill:active {\n    -webkit-box-shadow: 0 0 0px 1000px transparent inset !important;\n    box-shadow: 0 0 0px 1000px transparent inset !important;\n    -webkit-text-fill-color: white !important;\n    transition: background-color 5000s ease-in-out 0s;\n  }\n  \n  .input-error {\n    border-bottom: 2px solid red;\n  }\n  \n  .error-text {\n    color: red;\n    font-size: 0.8rem;\n    margin-top: 10px;\n  }\n  </style>\n  ","import { render } from \"./Login.vue?vue&type=template&id=be9f99c2&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=be9f99c2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-be9f99c2\"]])\n\nexport default __exports__","<template>\n    <div class=\"start\">\n      <BackgroundSlider />\n      <div class=\"registation-container\">\n        <img src=\"../assets/Logo(big).png\" alt=\"Logo\" class=\"logo-small\" />\n        <h2 class=\"registation-title\">Реєстрація</h2>\n        <div class=\"registation-inputs\">\n          <input\n            v-model=\"username\"\n            type=\"text\"\n            placeholder=\"Ім’я користувача\"\n            class=\"registation-input\"\n            :class=\"{ 'input-error': usernameError }\"\n          />\n          <div v-if=\"usernameError\" class=\"error-text\">Ім’я користувача обов’язкове</div>\n  \n          <input\n            v-model=\"email\"\n            type=\"text\"\n            placeholder=\"Email\"\n            class=\"registation-input\"\n            :class=\"{ 'input-error': emailError }\"\n          />\n          <div v-if=\"emailError\" class=\"error-text\">Неправильний формат email</div>\n  \n          <input\n            v-model=\"password\"\n            type=\"password\"\n            placeholder=\"Пароль\"\n            class=\"registation-input\"\n            :class=\"{ 'input-error': passwordError }\"\n          />\n          <div v-if=\"passwordError\" class=\"error-text\">\n            Пароль повинен містити мінімум 6 символів, цифри та букви\n          </div>\n        </div>\n        <div class=\"registation-buttons\">\n          <button @click=\"register\" class=\"registation-button\">Зареєструватись</button>\n          <router-link to=\"/\" custom v-slot=\"{ navigate }\">\n            <button @click=\"navigate\" class=\"registation-button\">Скасувати</button>\n          </router-link>\n        </div>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import { getAuth, createUserWithEmailAndPassword } from \"firebase/auth\";\n  import { getFirestore, doc, setDoc } from \"firebase/firestore\";\n  import BackgroundSlider from \"@/components/BackgroundSlider.vue\";\n  \n  export default {\n    components: {\n      BackgroundSlider,\n    },\n    data() {\n      return {\n        username: '',\n        email: '',\n        password: '',\n        usernameError: false,\n        emailError: false,\n        passwordError: false,\n      };\n    },\n    methods: {\n      validateEmail(email) {\n        const regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,6}$/;\n        return regex.test(email);\n      },\n      validatePassword(password) {\n        const regex = /^(?=.*[a-zA-Z])(?=.*\\d).{6,}$/;\n        return regex.test(password);\n      },\n      async register() {\n        this.usernameError = !this.username.trim();\n        this.emailError = !this.validateEmail(this.email);\n        this.passwordError = !this.validatePassword(this.password);\n  \n        if (this.usernameError || this.emailError || this.passwordError) {\n          return;\n        }\n  \n        const auth = getAuth();\n        try {\n          const userCredential = await createUserWithEmailAndPassword(auth, this.email, this.password);\n          const user = userCredential.user;\n  \n          const db = getFirestore();\n          const userDocRef = doc(db, \"users\", user.uid);\n  \n          await setDoc(userDocRef, {\n            email: this.email,\n            username: this.username,\n            role: \"user\",\n            profilePicture: \"https://firebasestorage.googleapis.com/v0/b/kursova-5374b.appspot.com/o/bach%2Fuser.png?alt=media&token=af753285-18bf-417d-a385-d281769201e9\",\n            createdAt: new Date(),\n            uid: user.uid,\n            role: \"user\",\n            status: \"active\",\n          });\n  \n          console.log(\"Реєстрація та запис в Firestore успішні!\");\n          this.$router.push(\"/home\");\n        } catch (error) {\n          console.error(\"Помилка реєстрації:\", error.message);\n          if (error.code === 'auth/email-already-in-use' || error.code === 'auth/invalid-email') {\n            this.emailError = true;\n          } else if (error.code === 'auth/weak-password') {\n            this.passwordError = true;\n          }\n        }\n      },\n    },\n  };\n  </script>\n  \n  <style scoped>\n  .start {\n    height: 100vh;\n    overflow: hidden;\n    position: relative;\n  }\n  \n  .registation-container {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 3;\n    max-width: 350px;\n    width: 90%;\n    padding: 40px 30px;\n    border: 2px solid white;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 50px;\n    background-color: rgba(0, 0, 0, 0.4);\n  }\n  \n  .logo-small {\n    width: 60px;\n  }\n  \n  .registation-title {\n    color: white;\n    font-size: 1.2rem;\n    font-weight: 400;\n    margin: 0;\n  }\n  \n  .registation-inputs {\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    width: 80%;\n  }\n  \n  .registation-input {\n    padding: 10px;\n    background: transparent;\n    border: none;\n    border-bottom: 2px solid white;\n    color: white;\n    font-size: 1rem;\n    outline: none;\n  }\n  \n  .registation-input::placeholder {\n    color: white;\n    opacity: 0.7;\n  }\n  \n  .registation-buttons {\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    width: 40%;\n  }\n  \n  .registation-button {\n    width: 100%;\n    padding: 10px;\n    background: transparent;\n    color: white;\n    border: 2px solid white;\n    font-size: 0.8rem;\n    cursor: pointer;\n  }\n  \n  .cancel-button {\n    width: 40%;\n    padding: 10px;\n    background: transparent;\n    color: white;\n    border: 2px solid white;\n    font-size: 0.8rem;\n    cursor: pointer;\n    text-decoration: none;\n  }\n  \n  .registation-input:-webkit-autofill,\n  .registation-input:-webkit-autofill:hover,\n  .registation-input:-webkit-autofill:focus,\n  .registation-input:-webkit-autofill:active {\n    -webkit-box-shadow: 0 0 0px 1000px transparent inset !important;\n    box-shadow: 0 0 0px 1000px transparent inset !important;\n    -webkit-text-fill-color: white !important;\n    transition: background-color 5000s ease-in-out 0s;\n  }\n  \n  .input-error {\n    border-bottom: 2px solid red;\n  }\n  \n  .error-text {\n    color: red;\n    font-size: 0.8rem;\n    margin-top: 10px;\n  }\n  </style>\n  ","import { render } from \"./Registration.vue?vue&type=template&id=2de1d800&scoped=true\"\nimport script from \"./Registration.vue?vue&type=script&lang=js\"\nexport * from \"./Registration.vue?vue&type=script&lang=js\"\n\nimport \"./Registration.vue?vue&type=style&index=0&id=2de1d800&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2de1d800\"]])\n\nexport default __exports__","<template>\n  <div class=\"profile-view\">\n    <Navbar />\n    <div class=\"profile-content\">\n      <div class=\"profile-island\" v-if=\"userData\">\n        <div class=\"profile-info\">\n          <div class=\"profile-image-wrapper\" @click=\"triggerFileInput\">\n            <img\n              :src=\"userData.profilePicture\"\n              alt=\"Profile\"\n              class=\"profile-image\"\n            />\n            <div class=\"overlay\">\n              <span>Змінити фото</span>\n            </div>\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              ref=\"fileInput\"\n              @change=\"handleFileChange\"\n              class=\"hidden-file-input\"\n            />\n          </div>\n\n          <div class=\"profile-right\">\n            <div class=\"profile-det\">\n              <div class=\"profile-usr\">\n                <p class=\"profile-name\">@{{ userData.username }}</p>\n                <p class=\"profile-date\">\n                  Профіль створено {{ formatDate(userData.createdAt) }}\n                </p>\n              </div>\n              <div v-if=\"userData.role !== 'moderator'\">\n                <div v-if=\"editingDescription\">\n                  <textarea\n                    v-model=\"newDescription\"\n                    class=\"profile-description-textarea\"\n                    rows=\"4\"\n                    placeholder=\"Редагувати опис...\"\n                  ></textarea>\n                  <div class=\"buttons-row-e\">\n                    <button @click=\"saveDescription\" class=\"br\">\n                      Зберегти\n                    </button>\n                    <button @click=\"cancelEdit\" class=\"br\">Скасувати</button>\n                  </div>\n                </div>\n                <div v-else>\n                  <p class=\"profile-description\">\n                    {{\n                      userData.description || \"Цей користувач ще не додав опис.\"\n                    }}\n                  </p>\n                </div>\n              </div>\n            </div>\n            <div class=\"buttons-row\" v-if=\"!editingDescription\">\n              <button\n                v-if=\"userData.role !== 'moderator'\"\n                @click=\"editDescription\"\n                class=\"description-edit br\"\n              >\n                Редагувати опис\n              </button>\n              <button @click=\"logout\" class=\"logout br\">Вийти з профілю</button>\n              <button @click=\"deleteAccount\" class=\"delete br\">\n                Видалити профіль\n              </button>\n            </div>\n          </div>\n        </div>\n        <div v-if=\"userData.role == 'moderator'\" class=\"blocked-users\">\n          <p class=\"blocked-title\">Заблоковані користувачі</p>\n          <div class=\"blocked-list-scroll\">\n            <div\n              v-for=\"blocked in blockedUsers\"\n              :key=\"blocked.id\"\n              class=\"blocked-card\"\n            >\n              <img\n                :src=\"blocked.profilePicture\"\n                alt=\"Blocked Profile\"\n                class=\"blocked-image\"\n              />\n              <div class=\"blocked-info\">\n                <p class=\"blocked-name\">@{{ blocked.username }}</p>\n                <p class=\"blocked-date\">\n                  Профіль заблоковано {{ formatDate(blocked.blockedAt) }}\n                </p>\n              </div>\n              <button class=\"br\" @click=\"unblockUser(blocked.id)\">\n                Відновити\n              </button>\n            </div>\n          </div>\n        </div>\n        <div v-if=\"userData.role == 'moderator'\" class=\"locations-gallery\">\n          <p class=\"blocked-title\">Забраковані світлини</p>\n          <div class=\"locations-scroll\">\n            <div\n              v-for=\"location in locations\"\n              :key=\"location.id\"\n              class=\"location-image-wrapper\"\n            >\n              <img\n                :src=\"location.imageUrl\"\n                alt=\"Location\"\n                class=\"location-image\"\n              />\n            </div>\n          </div>\n        </div>\n        <div v-if=\"userData.role !== 'moderator'\" class=\"profile-loc\">\n          <div class=\"profile-locations\">\n            <p class=\"blocked-title\">Мої світлини</p>\n            <div class=\"locations-scroll\">\n              <div\n                v-for=\"location in userLocations\"\n                :key=\"location.id\"\n                class=\"location-image-wrapper\"\n              >\n                <img\n                  :src=\"location.imageUrl\"\n                  alt=\"Location\"\n                  class=\"location-image\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getAuth, onAuthStateChanged, signOut } from \"firebase/auth\";\nimport {\n  getFirestore,\n  doc,\n  getDoc,\n  updateDoc,\n  deleteDoc,\n  collection,\n  query,\n  where,\n  getDocs,\n  collectionGroup,\n} from \"firebase/firestore\";\nimport { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\nimport Navbar from \"@/components/Navbar.vue\";\nimport Footer from \"@/components/Footer.vue\";\n\nexport default {\n  name: \"ProfileView\",\n  components: {\n    Navbar,\n    Footer,\n  },\n  data() {\n    return {\n      userData: null,\n      editingDescription: false,\n      newDescription: \"\",\n      blockedUsers: [],\n      locations: [],\n      userLocations: [],\n      userComments: [],\n    };\n  },\n  methods: {\n    async fetchUserData(uid) {\n      const db = getFirestore();\n      const userRef = doc(db, \"users\", uid);\n      const userSnap = await getDoc(userRef);\n      if (userSnap.exists()) {\n        this.userData = { uid, ...userSnap.data() };\n        this.userLocations = await this.fetchUserLocations(uid);\n\n        if (this.userData.role === \"moderator\") {\n          this.fetchBlockedUsers();\n          this.fetchLocations();\n        }\n      } else {\n        console.error(\"Документ не знайдено!\");\n      }\n    },\n    async fetchBlockedUsers() {\n      const db = getFirestore();\n      const blockedUsersQuery = query(\n        collection(db, \"users\"),\n        where(\"status\", \"==\", \"blocked\")\n      );\n      const blockedUsersSnap = await getDocs(blockedUsersQuery);\n      this.blockedUsers = blockedUsersSnap.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n      }));\n    },\n    async fetchLocations() {\n      const db = getFirestore();\n      const locationsQuery = query(\n        collection(db, \"locations\"),\n        where(\"status\", \"==\", \"rejected\")\n      );\n      const locationsSnap = await getDocs(locationsQuery);\n      this.locations = locationsSnap.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n      }));\n    },\n    formatDate(date) {\n      if (!date) return \"невідомо\";\n      const d = date.toDate ? date.toDate() : new Date(date);\n      return d.toLocaleDateString(\"uk-UA\");\n    },\n    editDescription() {\n      this.editingDescription = true;\n      this.newDescription = this.userData.description || \"\";\n    },\n    async saveDescription() {\n      if (this.newDescription !== this.userData.description) {\n        const db = getFirestore();\n        const userRef = doc(db, \"users\", this.userData.uid);\n        await updateDoc(userRef, {\n          description: this.newDescription,\n        });\n        this.userData.description = this.newDescription;\n      }\n      this.editingDescription = false;\n    },\n    cancelEdit() {\n      this.editingDescription = false;\n      this.newDescription = this.userData.description || \"\";\n    },\n    logout() {\n      const auth = getAuth();\n      signOut(auth)\n        .then(() => {\n          this.$router.push(\"/\");\n        })\n        .catch((error) => {\n          console.error(\"Помилка при виході: \", error);\n        });\n    },\n    async deleteAccount() {\n      const auth = getAuth();\n      const db = getFirestore();\n      try {\n        await deleteDoc(doc(db, \"users\", this.userData.uid));\n        await auth.currentUser.delete();\n        this.$router.push(\"/\");\n      } catch (error) {\n        console.error(\"Помилка при видаленні акаунта: \", error);\n      }\n    },\n    async unblockUser(userId) {\n      const db = getFirestore();\n      const userRef = doc(db, \"users\", userId);\n      await updateDoc(userRef, {\n        status: \"active\",\n      });\n      this.fetchBlockedUsers();\n    },\n    triggerFileInput() {\n      console.log(\"Клік на зображення\");\n      this.$refs.fileInput.click();\n    },\n    handleFileChange(event) {\n      const file = event.target.files[0];\n      if (file) {\n        const storage = getStorage();\n        const fileRef = ref(storage, `profile_pictures/${this.userData.uid}`);\n\n        // Завантажуємо файл у Firebase Storage\n        uploadBytes(fileRef, file).then((snapshot) => {\n          // Отримуємо URL завантаженого фото\n          getDownloadURL(snapshot.ref).then((downloadURL) => {\n            this.updateProfilePicture(downloadURL);\n          });\n        });\n      }\n    },\n\n    async updateProfilePicture(downloadURL) {\n      const db = getFirestore();\n      const userRef = doc(db, \"users\", this.userData.uid);\n\n      // Оновлюємо URL фото в Firestore\n      await updateDoc(userRef, {\n        profilePicture: downloadURL,\n      });\n\n      // Оновлюємо локальне значення для профілю\n      this.userData.profilePicture = downloadURL;\n    },\n    async fetchUserLocations(uid) {\n      const db = getFirestore();\n      const locationsQuery = query(\n        collection(db, \"locations\"),\n        where(\"userUid\", \"==\", uid)\n      );\n\n      const locationsSnap = await getDocs(locationsQuery);\n      return locationsSnap.docs.map((doc) => ({ id: doc.id, ...doc.data() }));\n    },\n  },\n  mounted() {\n    const auth = getAuth();\n    onAuthStateChanged(auth, (user) => {\n      if (user) {\n        this.fetchUserData(user.uid);\n      } else {\n        this.$router.push(\"/\");\n      }\n    });\n  },\n};\n</script>\n\n<style scoped>\n.profile-content {\n  padding: 40px;\n  display: flex;\n  justify-content: center;\n}\n\n.profile-island {\n  background-color: black;\n  padding: 60px 100px;\n  width: 1000px;\n  display: flex;\n  flex-direction: column;\n}\n\n.profile-info {\n  display: flex;\n  justify-content: flex-start;\n  gap: 20px;\n}\n\n.profile-image {\n  width: 200px;\n  height: 200px;\n  object-fit: cover;\n  border: 2px solid white;\n}\n\n.profile-right {\n  flex: 1;\n  max-width: 780px;\n}\n\n.profile-det {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding: 10px 35px;\n  text-align: left;\n  border: 2px solid white;\n}\n\n.profile-usr {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  gap: 5px;\n  width: 100%;\n}\n\n.profile-name {\n  font-size: 1.9rem;\n  font-weight: 400;\n  color: white;\n  margin: 0;\n}\n\n.profile-date {\n  font-size: 0.8rem;\n  color: #949494;\n}\n\n.profile-description {\n  font-size: 0.9rem;\n  color: white;\n  margin-top: 15px;\n  font-weight: 300;\n  line-height: 1.5;\n}\n\n.profile-description-textarea {\n  width: 100%;\n  padding: 10px;\n  font-size: 0.9rem;\n  margin-top: 15px;\n  border-bottom: 2px solid white;\n  border-top: none;\n  border-left: none;\n  border-right: none;\n  background-color: black;\n  color: white;\n  font-family: \"Montserrat\", sans-serif;\n}\n\n.buttons-row {\n  display: flex;\n  justify-content: flex-end;\n  gap: 20px;\n  margin-top: 20px;\n}\n\n.buttons-row-e {\n  display: flex;\n  justify-content: flex-start;\n  gap: 20px;\n  margin-top: 20px;\n}\n\n.br {\n  background-color: black;\n  color: white;\n  padding: 7px 8px;\n  text-decoration: none;\n  font-size: 0.8rem;\n  border: 2px solid white;\n  cursor: pointer;\n}\n.blocked-users {\n  margin-top: 30px;\n  border: 2px solid white;\n  max-height: 300px;\n  display: flex;\n  flex-direction: column;\n}\n\n.blocked-title {\n  color: white;\n  font-size: 1rem;\n  text-align: center;\n  padding: 10px;\n  flex-shrink: 0;\n  background-color: black;\n  position: sticky;\n  top: 0;\n  z-index: 1;\n}\n\n.blocked-list-scroll {\n  overflow-y: auto;\n  flex-grow: 1;\n  padding: 10px 0;\n}\n\n.blocked-card {\n  display: flex;\n  align-items: center;\n  gap: 20px;\n  padding: 10px;\n  margin-bottom: 20px;\n  padding: 0px 50px;\n}\n.blocked-image {\n  width: 70px;\n  height: 70px;\n  object-fit: cover;\n  border-radius: 50%;\n}\n.blocked-info {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.blocked-name {\n  font-size: 1rem;\n  color: white;\n  margin: 0;\n}\n.blocked-date {\n  font-size: 0.8rem;\n  color: #949494;\n  margin: 7px 0 0 0;\n}\n.locations-gallery {\n  margin-top: 30px;\n  border: 2px solid white;\n  max-height: 345px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.locations-scroll {\n  overflow-y: auto;\n  flex-grow: 1;\n  padding: 0px;\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 10px;\n  justify-content: center;\n  padding-left: 10px;\n  padding-bottom: 10px;\n}\n\n.location-image-wrapper {\n  width: 265px;\n  height: 265px;\n  aspect-ratio: 1/1;\n  overflow: hidden;\n  width: 300px;\n}\n\n.location-image {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  display: block;\n}\n.profile-image {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  display: block;\n  border: none; /* прибрати */\n}\n\n.profile-image-wrapper {\n  border: 2px solid white;\n  overflow: hidden; /* обрізає краї зображення + overlay */\n  position: relative;\n  width: 200px;\n  height: 200px;\n}\n\n.overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  color: white;\n  font-weight: bold;\n  font-size: 1rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n}\n\n.profile-image-wrapper:hover .overlay {\n  opacity: 1;\n}\n.hidden-file-input {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  opacity: 0;\n}\n\n.profile-loc {\n  margin-top: 30px;\n  border: 2px solid white;\n  display: flex;\n  flex-direction: column;\n}\n\n.profile-locations {\n  max-height: 350px;\n  display: flex;\n  flex-direction: column;\n}\n\n.locations-scroll {\n  overflow-y: auto;\n  flex-grow: 1;\n  padding: 0px;\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 10px;\n  justify-content: center;\n  padding-left: 20px;\n  \n  padding-bottom: 10px;\n}\n</style>\n\n","import { render } from \"./Profile.vue?vue&type=template&id=0b954b4d&scoped=true\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\n\nimport \"./Profile.vue?vue&type=style&index=0&id=0b954b4d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0b954b4d\"]])\n\nexport default __exports__","<template>\n  <Navbar />\n  <div class=\"create\">\n    <div class=\"island-create\">\n      <p class=\"location-title\">Створення локації</p>\n      <div class=\"b-c\">\n        <div class=\"l-c\">\n          <p class=\"p-t\">Додайте локацію</p>\n          <input\n            v-model=\"searchQuery\"\n            @input=\"fetchSuggestions\"\n            @keydown.down=\"highlightSuggestion(1)\"\n            @keydown.up=\"highlightSuggestion(-1)\"\n            @keydown.enter=\"selectHighlighted\"\n            type=\"text\"\n            placeholder=\"Введіть адресу\"\n            class=\"address-input\"\n          />\n          <ul v-if=\"suggestions.length\" class=\"suggestions\">\n            <li\n              v-for=\"(suggestion, index) in suggestions\"\n              :key=\"index\"\n              :class=\"{ active: index === highlighted }\"\n              @click=\"selectSuggestion(suggestion)\"\n            >\n              {{ suggestion.place_name }}\n            </li>\n          </ul>\n        </div>\n        <div ref=\"mapContainer\" class=\"location-map\"></div>\n      </div>\n      <div class=\"b-c\">\n        <div class=\"l-c\">\n          <p class=\"p-t\">Додайте зображення</p>\n          <button @click=\"uploadImage\" class=\"c-button\">Додати фото</button>\n          <button @click=\"removeImage\" class=\"c-button\">Видалити фото</button>\n        </div>\n        <div\n          v-if=\"imageUrl\"\n          class=\"image-preview\"\n          :style=\"{ backgroundImage: `url(${imageUrl})` }\"\n        ></div>\n        <div\n          v-else\n          class=\"image-upload-area\"\n          @drop.prevent=\"onDrop\"\n          @dragover.prevent\n          @dragstart=\"startDrag\"\n          @dragend=\"endDrag\"\n          :style=\"dragStyle\"\n          draggable=\"true\"\n        >\n          <span>Перетягніть фото сюди</span>\n        </div>\n      </div>\n      <div class=\"b-c-det\">\n        <p class=\"p-t\">Створіть опис</p>\n        <input\n          v-model=\"locationName\"\n          type=\"text\"\n          placeholder=\"Введіть назву\"\n          class=\"det-inp\"\n          required\n        />\n        <input\n          v-model=\"locationDescription\"\n          type=\"text\"\n          placeholder=\"Введіть опис\"\n          class=\"det-inp\"\n        />\n      </div>\n      <div class=\"location-buttons\">\n        <button @click=\"saveLocation\" class=\"c-button b\">Зберегти</button>\n        <button @click=\"cancel\" class=\"c-button b\">Скасувати</button>\n      </div>\n    </div>\n  </div>\n  <Footer />\n</template>\n\n<script>\nimport mapboxgl from \"mapbox-gl\";\nimport Navbar from \"@/components/Navbar.vue\";\nimport Footer from \"@/components/Footer.vue\";\nimport {\n  getFirestore,\n  collection,\n  addDoc,\n  Timestamp,\n  doc,\n  getDoc,\n} from \"firebase/firestore\";\nimport { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\nimport { getAuth } from \"firebase/auth\";\n\nmapboxgl.accessToken =\n  \"pk.eyJ1IjoibHZxMWljZW1hbiIsImEiOiJjbHU4ZmtuZ2MwYzRvMm9yeGQzZnBycjBkIn0.u4QC3601L2OcFCzw8kzvmw\";\n\nexport default {\n  name: \"CreateLocation\",\n  components: {\n    Navbar,\n    Footer,\n  },\n  data() {\n    return {\n      map: null,\n      marker: null,\n      searchQuery: \"\",\n      suggestions: [],\n      highlighted: -1,\n      imageUrl: \"\",\n      locationName: \"\",\n      locationDescription: \"\",\n      isDragging: false,\n      dragStyle: {},\n      locationCoords: null,\n      imageFile: null,\n    };\n  },\n  methods: {\n    async fetchSuggestions() {\n      if (!this.searchQuery) {\n        this.suggestions = [];\n        return;\n      }\n\n      const response = await fetch(\n        `https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(\n          this.searchQuery\n        )}.json?access_token=${mapboxgl.accessToken}&autocomplete=true&limit=5`\n      );\n      const data = await response.json();\n      this.suggestions = data.features;\n    },\n    selectSuggestion(suggestion) {\n      this.searchQuery = suggestion.place_name;\n      this.suggestions = [];\n      const [lng, lat] = suggestion.center;\n      this.setMarker(lng, lat);\n    },\n    highlightSuggestion(direction) {\n      const max = this.suggestions.length - 1;\n      if (max < 0) return;\n\n      this.highlighted += direction;\n      if (this.highlighted < 0) this.highlighted = max;\n      if (this.highlighted > max) this.highlighted = 0;\n    },\n    selectHighlighted() {\n      if (this.highlighted >= 0 && this.highlighted < this.suggestions.length) {\n        this.selectSuggestion(this.suggestions[this.highlighted]);\n      }\n    },\n    setMarker(lng, lat) {\n      if (!this.map) return;\n      this.map.flyTo({ center: [lng, lat], zoom: 14 });\n\n      if (this.marker) {\n        this.marker.setLngLat([lng, lat]);\n      } else {\n        this.marker = new mapboxgl.Marker({ color: \"red\", draggable: true })\n          .setLngLat([lng, lat])\n          .addTo(this.map);\n\n        this.marker.on(\"dragend\", this.reverseGeocodeMarker);\n      }\n\n      this.reverseGeocodeMarker();\n      this.locationCoords = { lng, lat };\n    },\n    async reverseGeocodeMarker() {\n      const lngLat = this.marker.getLngLat();\n      const response = await fetch(\n        `https://api.mapbox.com/geocoding/v5/mapbox.places/${lngLat.lng},${lngLat.lat}.json?access_token=${mapboxgl.accessToken}`\n      );\n      const data = await response.json();\n      if (data.features[0]) {\n        this.searchQuery = data.features[0].place_name;\n      }\n    },\n    uploadImage() {\n      const input = document.createElement(\"input\");\n      input.type = \"file\";\n      input.accept = \"image/*\";\n      input.onchange = (event) => {\n        this.imageFile = event.target.files[0];\n        if (this.imageFile) {\n          const reader = new FileReader();\n          reader.onload = (e) => {\n            this.imageUrl = e.target.result;\n          };\n          reader.readAsDataURL(this.imageFile);\n        }\n      };\n      input.click();\n    },\n    removeImage() {\n      this.imageFile = null;\n      this.imageUrl = \"\";\n    },\n    startDrag() {\n      this.isDragging = true;\n      this.dragStyle = {\n        cursor: \"grabbing\",\n        opacity: 0.7,\n      };\n    },\n    endDrag() {\n      this.isDragging = false;\n      this.dragStyle = {};\n    },\n    async saveLocation() {\n      if (\n        !this.locationName ||\n        !this.searchQuery ||\n        !this.imageFile ||\n        !this.locationCoords\n      ) {\n        alert(\"Будь ласка, заповніть всі обов'язкові поля!\");\n        return;\n      }\n\n      const storage = getStorage();\n      const storageRef = ref(\n        storage,\n        `locations/${Date.now()}_${this.imageFile.name}`\n      );\n\n      try {\n        const snapshot = await uploadBytes(storageRef, this.imageFile);\n        const imageUrl = await getDownloadURL(snapshot.ref);\n\n        const db = getFirestore();\n        const auth = getAuth();\n        const user = auth.currentUser;\n\n        let username = \"Без імені\";\n        const userDocRef = doc(db, \"users\", user.uid);\n        const userDocSnap = await getDoc(userDocRef);\n\n        if (userDocSnap.exists()) {\n          username = userDocSnap.data().username || username;\n        }\n\n\n        const locationRef = collection(db, \"locations\");\n        await addDoc(locationRef, {\n          name: this.locationName,\n          description: this.locationDescription,\n          address: this.searchQuery,\n          coordinates: this.locationCoords,\n          userUid: user.uid,\n          username: username,\n          imageUrl: imageUrl,\n          status: \"pending\",\n          createdAt: Timestamp.fromDate(new Date()),\n        });\n\n        alert(\"Локацію успішно додано!\");\n        this.clearForm();\n      } catch (error) {\n        console.error(\"Error saving location:\", error);\n        alert(\"Сталася помилка при збереженні локації.\");\n      }\n    },\n    clearForm() {\n      this.searchQuery = \"\";\n      this.locationName = \"\";\n      this.locationDescription = \"\";\n      this.imageFile = null;\n      this.imageUrl = \"\";\n      this.locationCoords = null;\n    },\n    cancel() {\n      this.$router.push(\"/home\");\n    },\n  },\n  mounted() {\n    this.map = new mapboxgl.Map({\n      container: this.$refs.mapContainer,\n      center: [24.0315, 49.8397],\n      zoom: 10,\n      style: \"mapbox://styles/lvq1iceman/cm9ootxch009b01qs40wa1c8q\",\n    });\n\n    this.map.on(\"load\", () => {\n      this.map.resize();\n    });\n\n    this.map.on(\"click\", (e) => {\n      this.setMarker(e.lngLat.lng, e.lngLat.lat);\n    });\n  },\n};\n</script>\n\n<style scoped>\n.create {\n  padding: 40px;\n  display: flex;\n  justify-content: center;\n}\n\n.island-create {\n  background-color: black;\n  padding: 30px 100px 80px 100px;\n  width: 1000px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 20px;\n}\n\n.location-title {\n  font-size: 1.3rem;\n  color: white;\n  margin: 0;\n  margin-bottom: 20px;\n}\n\n.b-c {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  padding: 20px 20px;\n  gap: 20px;\n  width: 100%;\n  border: 2px solid white;\n  box-sizing: border-box;\n  flex-wrap: wrap;\n}\n\n.l-c {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 20px;\n  max-width: 300px;\n  flex: 1;\n}\n\n.p-t {\n  font-size: 1.1rem;\n  color: white;\n}\n\n.address-input {\n  width: 270px;\n  padding: 10px;\n  background: transparent;\n  border: none;\n  border-bottom: 2px solid white;\n  color: white;\n  font-size: 1rem;\n  outline: none;\n  box-sizing: border-box;\n}\n\n.location-map {\n  width: 100%;\n  max-width: 650px;\n  height: 350px;\n  border: 2px solid white;\n  position: relative;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n\n.suggestions {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  width: 100%;\n  background: black;\n  border: 1px solid white;\n  max-height: 150px;\n  overflow-y: auto;\n  color: white;\n  box-sizing: border-box;\n}\n\n.suggestions li {\n  padding: 10px;\n  cursor: pointer;\n}\n\n.suggestions li.active {\n  background-color: white;\n  color: black;\n}\n\n.c-button {\n  background-color: black;\n  color: white;\n  padding: 7px 8px;\n  text-decoration: none;\n  font-size: 0.9rem;\n  border: 2px solid white;\n  cursor: pointer;\n  width: 150px;\n}\n\n.image-upload-area {\n  width: 650px;\n  height: 300px;\n  background-color: gray;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  text-align: center;\n  border: 2px solid white;\n  cursor: grab;\n}\n\n.image-preview {\n  width: 650px;\n  height: 300px;\n  background-size: cover;\n  background-position: center;\n  border: 2px solid white;\n}\n.b-c-det {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding: 20px 20px;\n  gap: 20px;\n  width: 100%;\n  border: 2px solid white;\n  box-sizing: border-box;\n  flex-wrap: wrap;\n  text-align: center;\n}\n.det-inp {\n  width: 100%;\n  padding: 10px;\n  background: transparent;\n  border: none;\n  border-bottom: 2px solid white;\n  color: white;\n  font-size: 1rem;\n  outline: none;\n  box-sizing: border-box;\n}\n\n.location-buttons {\n  display: flex;\n  justify-content: flex-start;\n  gap: 20px;\n  margin-top: 20px;\n  width: 100%;\n}\n\n.location-buttons .c-button {\n  width: 100%;\n  max-width: 150px;\n  font-size: 1rem;\n  height: 40px;\n}\n</style>\n","import { render } from \"./CreateLocation.vue?vue&type=template&id=a6f2de06&scoped=true\"\nimport script from \"./CreateLocation.vue?vue&type=script&lang=js\"\nexport * from \"./CreateLocation.vue?vue&type=script&lang=js\"\n\nimport \"./CreateLocation.vue?vue&type=style&index=0&id=a6f2de06&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a6f2de06\"]])\n\nexport default __exports__","<template>\n  <Navbar />\n  <div class=\"approve-container\">\n    <p class=\"approve-title\">Заявки на публікацію</p>\n\n    <div v-for=\"request in requests\" :key=\"request.id\" class=\"approve-card\">\n      <p class=\"approve-card-title\">\n        Користувач @{{ request.username }} бажає опублікувати:\n      </p>\n      <div class=\"approve-card-header\">\n        <div class=\"approve-card-header-l\">\n          <img\n            class=\"profile-photo\"\n            :src=\"request.profilePicture\"\n            alt=\"profile\"\n          />\n\n          <button class=\"approve\" @click=\"approveRequest(request.id)\">\n            Схвалити\n          </button>\n          <button class=\"reject\" @click=\"rejectRequest(request.id)\">\n            Відхилити\n          </button>\n        </div>\n        <img\n          class=\"approve-card-header-r\"\n          :src=\"request.imageUrl\"\n          alt=\"location\"\n        />\n      </div>\n      <div class=\"approve-card-footer\">\n        <p class=\"approve-card-street\">{{ request.address }}</p>\n        <hr />\n        <p class=\"approve-card-description\">{{ request.description }}</p>\n      </div>\n    </div>\n  </div>\n  <Footer />\n</template>\n\n<script>\nimport Navbar from \"@/components/Navbar.vue\";\nimport Footer from \"@/components/Footer.vue\";\nimport {\n  getFirestore,\n  collection,\n  getDocs,\n  updateDoc,\n  doc,\n  query,\n  where,\n  getDoc,\n} from \"firebase/firestore\";\n\nexport default {\n  name: \"Approve\",\n  components: { Navbar, Footer },\n  data() {\n    return {\n      requests: [],\n    };\n  },\n  async mounted() {\n    const db = getFirestore();\n    const q = query(\n      collection(db, \"locations\"),\n      where(\"status\", \"==\", \"pending\")\n    );\n    const querySnapshot = await getDocs(q);\n\n    const requestsWithPhotos = await Promise.all(\n      querySnapshot.docs.map(async (docSnap) => {\n        const data = docSnap.data();\n        const userUid = data.userUid;\n        let profilePicture = \"/default-avatar.png\"; // дефолтна аватарка\n\n        if (userUid) {\n          const userRef = doc(db, \"users\", userUid);\n          const userSnap = await getDoc(userRef);\n\n          if (userSnap.exists()) {\n            profilePicture = userSnap.data().profilePicture || profilePicture;\n          }\n        }\n\n        return {\n          id: docSnap.id,\n          ...data,\n          profilePicture,\n        };\n      })\n    );\n\n    this.requests = requestsWithPhotos;\n  },\n  methods: {\n    async getUserPhotoByUsername(username) {\n      const db = getFirestore();\n      const usersRef = collection(db, \"users\");\n      const q = query(usersRef, where(\"username\", \"==\", username));\n      const querySnapshot = await getDocs(q);\n\n      if (!querySnapshot.empty) {\n        const userDoc = querySnapshot.docs[0];\n        return userDoc.data().photoURL || null;\n      }\n\n      return null;\n    },\n\n    async approveRequest(id) {\n      const db = getFirestore();\n      await updateDoc(doc(db, \"locations\", id), {\n        status: \"approved\",\n      });\n      this.requests = this.requests.filter((req) => req.id !== id);\n    },\n\n    async rejectRequest(id) {\n      const db = getFirestore();\n      await updateDoc(doc(db, \"locations\", id), {\n        status: \"rejected\",\n      });\n      this.requests = this.requests.filter((req) => req.id !== id);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.approve-container {\n  height: 100vh;\n  width: 900px;\n  background-color: rgba(0, 0, 0, 0.2);\n  margin: 0 auto;\n  align-items: center;\n  display: flex;\n  justify-content: start;\n  flex-direction: column;\n}\n\n.approve-title {\n  font-size: 1.3rem;\n  margin: 20px 0;\n}\n\n.approve-card {\n  background: black;\n  padding: 20px;\n  margin-bottom: 20px;\n  width: 700px;\n  padding: 0 50px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  text-align: center;\n}\n\n.approve-card-header {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  margin-top: 10px;\n}\n\n.approve-card-header-l {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n}\n\n.profile-photo {\n  width: 150px;\n  height: 150px;\n  object-fit: cover;\n  border: 2px solid white;\n}\n\n.approve {\n  background-color: black;\n  color: white;\n  border: 2px solid white;\n  border-radius: 0;\n  padding: 12px 12px;\n  cursor: pointer;\n  width: 154px;\n}\n.reject {\n  background-color: black;\n  color: white;\n  border: 2px solid white;\n  border-radius: 0;\n  padding: 12px 12px;\n  cursor: pointer;\n  width: 154px;\n}\n\n.approve-card-header-r {\n  width: 530px;\n  height: 262px;\n  object-fit: cover;\n}\n\n.approve-card-footer {\n  margin-top: 0px;\n}\n\n.approve-card-street {\n  text-align: left;\n  margin-bottom: 2px;\n  font-size: 0.8rem;\n}\n\nhr {\n  margin: 0;\n}\n.approve-card-description {\n  color: white;\n  border: 2px solid white;\n  padding: 10px 20px;\n  max-height: 45px;\n  overflow-y: auto;\n  white-space: pre-wrap; /* або normal */\n}\n</style>\n","import { render } from \"./Approve.vue?vue&type=template&id=9347bd20&scoped=true\"\nimport script from \"./Approve.vue?vue&type=script&lang=js\"\nexport * from \"./Approve.vue?vue&type=script&lang=js\"\n\nimport \"./Approve.vue?vue&type=style&index=0&id=9347bd20&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9347bd20\"]])\n\nexport default __exports__","<template>\n  <Navbar />\n  <div class=\"publications\">\n    <p class=\"publication-title\">Мої публікації</p>\n    <div class=\"publication-grid\">\n      <div\n        class=\"publication-card\"\n        v-for=\"publication in publications\"\n        :key=\"publication.id\"\n        @mouseenter=\"publication.showActions = true\"\n        @mouseleave=\"publication.showActions = false\"\n      >\n        <img\n          :src=\"publication.imageUrl\"\n          alt=\"Publication Image\"\n          class=\"publication-image\"\n        />\n        <div\n          class=\"action-container\"\n          :class=\"{ 'show-actions': publication.showActions }\"\n        >\n          <p class=\"publication-address-mobile\">{{ publication.address }}</p>\n          <router-link :to=\"'/edit-location/' + publication.id\"\n            class=\"action\">Редагувати</router-link\n          ><br />\n          <button class=\"action\" @click=\"deletePublication(publication.id)\">\n            Видалити\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n  <Footer />\n</template>\n\n<script>\nimport Navbar from \"@/components/Navbar.vue\";\nimport Footer from \"@/components/Footer.vue\";\nimport {\n  getFirestore,\n  collection,\n  getDocs,\n  query,\n  where,\n  deleteDoc,\n  doc,\n} from \"firebase/firestore\";\nimport { getAuth } from \"firebase/auth\";\nimport { ref, onMounted, onBeforeUnmount } from \"vue\";\n\nexport default {\n  name: \"MyPublications\",\n  components: { Navbar, Footer },\n  data() {\n    return {\n      publications: [],\n      userUid: \"\",\n      isMounted: false,\n    };\n  },\n  methods: {\n    async deletePublication(id) {\n      const db = getFirestore();\n      const publicationRef = doc(db, \"locations\", id);\n      await deleteDoc(publicationRef);\n      this.publications = this.publications.filter((pub) => pub.id !== id);\n    },\n    editPublication(id) {},\n  },\n  async mounted() {\n    const auth = getAuth();\n    const db = getFirestore();\n\n    this.userUid = auth.currentUser.uid;\n    this.isMounted = true;\n\n    const q = query(\n      collection(db, \"locations\"),\n      where(\"userUid\", \"==\", this.userUid),\n      where(\"status\", \"==\", \"approved\")\n    );\n\n    const querySnapshot = await getDocs(q);\n\n    if (this.isMounted) {\n      this.publications = querySnapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n        showActions: false,\n      }));\n    }\n  },\n  onBeforeUnmount() {\n    this.isMounted = false;\n  },\n};\n</script>\n\n<style scoped>\n.publications {\n  height: 100vh;\n  width: 900px;\n  background-color: rgba(0, 0, 0, 0.2);\n  margin: 0 auto;\n  align-items: center;\n  display: flex;\n  justify-content: start;\n  flex-direction: column;\n  padding-bottom: 40px;\n}\n\n.publication-title {\n  font-size: 1.5rem;\n  margin: 20px 0;\n}\n\n.publication-grid {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 20px;\n}\n\n.publication-card {\n  background-color: black;\n  padding: 7px;\n  width: 255px;\n  position: relative;\n  overflow: hidden;\n  height: 100%;\n}\n\n.publication-image {\n  width: 250px;\n  height: 150px;\n  object-fit: cover;\n  border: 2px solid white;\n  margin-bottom: 30px;\n}\n\n.publication-details {\n  margin-top: 0;\n}\n\n.publication-address {\n  font-size: 0.8rem;\n  margin: 0;\n  padding-bottom: 7px;\n}\n\n.action-container {\n  position: absolute;\n  bottom: -60px;\n  left: 0;\n  right: 0;\n  background-color: black;\n  padding: 10px;\n    \n  transition: bottom 0.3s ease;\n  overflow: hidden;\n}\n\n.show-actions {\n  bottom: 0;\n}\n\n.publication-address-mobile {\n  font-size: 0.8rem;\n  color: white;\n  margin: 0;\n  padding-bottom: 7px;\n}\n\n.action {\n  color: white;\n  font-size: 0.8rem;\n  cursor: pointer;\n  background-color: transparent;\n  border: none;\n  margin: 0;\n  padding: 7px 0;\n  text-decoration: none;\n}\n</style>\n","import { render } from \"./MyPublications.vue?vue&type=template&id=6d7e6fef&scoped=true\"\nimport script from \"./MyPublications.vue?vue&type=script&lang=js\"\nexport * from \"./MyPublications.vue?vue&type=script&lang=js\"\n\nimport \"./MyPublications.vue?vue&type=style&index=0&id=6d7e6fef&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6d7e6fef\"]])\n\nexport default __exports__","<template>\n  <Navbar />\n  <div class=\"create\">\n    <div class=\"island-create\">\n      <p class=\"location-title\">Редагування локації</p>\n      <div class=\"b-c\">\n        <div class=\"l-c\">\n          <p class=\"p-t\">Додайте локацію</p>\n          <input\n            v-model=\"searchQuery\"\n            @input=\"fetchSuggestions\"\n            @keydown.down=\"highlightSuggestion(1)\"\n            @keydown.up=\"highlightSuggestion(-1)\"\n            @keydown.enter=\"selectHighlighted\"\n            type=\"text\"\n            placeholder=\"Введіть адресу\"\n            class=\"address-input\"\n          />\n          <ul v-if=\"suggestions.length\" class=\"suggestions\">\n            <li\n              v-for=\"(suggestion, index) in suggestions\"\n              :key=\"index\"\n              :class=\"{ active: index === highlighted }\"\n              @click=\"selectSuggestion(suggestion)\"\n            >\n              {{ suggestion.place_name }}\n            </li>\n          </ul>\n        </div>\n        <div ref=\"mapContainer\" class=\"location-map\"></div>\n      </div>\n      <div class=\"b-c\">\n        <div class=\"l-c\">\n          <p class=\"p-t\">Додайте зображення</p>\n          <button @click=\"uploadImage\" class=\"c-button\">Змінити фото</button>\n          <button @click=\"removeImage\" class=\"c-button\">Видалити фото</button>\n        </div>\n        <div\n          v-if=\"imageUrl\"\n          class=\"image-preview\"\n          :style=\"{ backgroundImage: `url(${imageUrl})` }\"\n        ></div>\n        <div\n          v-else\n          class=\"image-upload-area\"\n          @drop.prevent=\"onDrop\"\n          @dragover.prevent\n          @dragstart=\"startDrag\"\n          @dragend=\"endDrag\"\n          :style=\"dragStyle\"\n          draggable=\"true\"\n        >\n          <span>Перетягніть фото сюди</span>\n        </div>\n      </div>\n      <div class=\"b-c-det\">\n        <p class=\"p-t\">Створіть опис</p>\n        <input\n          v-model=\"locationName\"\n          type=\"text\"\n          placeholder=\"Введіть назву\"\n          class=\"det-inp\"\n          required\n        />\n        <input\n          v-model=\"locationDescription\"\n          type=\"text\"\n          placeholder=\"Введіть опис\"\n          class=\"det-inp\"\n        />\n      </div>\n      <div class=\"location-buttons\">\n        <button @click=\"saveLocation\" class=\"c-button b\">Зберегти</button>\n        <button @click=\"cancel\" class=\"c-button b\">Скасувати</button>\n      </div>\n    </div>\n  </div>\n  <Footer />\n</template>\n\n<script>\nimport mapboxgl from \"mapbox-gl\";\nimport Navbar from \"@/components/Navbar.vue\";\nimport Footer from \"@/components/Footer.vue\";\nimport {\n  getFirestore,\n  doc,\n  getDoc,\n  updateDoc,\n  Timestamp,\n} from \"firebase/firestore\";\nimport { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\nimport { getAuth } from \"firebase/auth\";\n\nmapboxgl.accessToken =\n  \"pk.eyJ1IjoibHZxMWljZW1hbiIsImEiOiJjbHU4ZmtuZ2MwYzRvMm9yeGQzZnBycjBkIn0.u4QC3601L2OcFCzw8kzvmw\";\n\nexport default {\n  name: \"EditLocation\",\n  components: {\n    Navbar,\n    Footer,\n  },\n  data() {\n    return {\n      map: null,\n      marker: null,\n      searchQuery: \"\",\n      suggestions: [],\n      highlighted: -1,\n      imageUrl: \"\",\n      locationName: \"\",\n      locationDescription: \"\",\n      isDragging: false,\n      dragStyle: {},\n      locationCoords: null,\n      imageFile: null,\n      locationId: \"\", // ID of the location to edit\n    };\n  },\n  methods: {\n    async fetchSuggestions() {\n      if (!this.searchQuery) {\n        this.suggestions = [];\n        return;\n      }\n\n      const response = await fetch(\n        `https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(\n          this.searchQuery\n        )}.json?access_token=${mapboxgl.accessToken}&autocomplete=true&limit=5`\n      );\n      const data = await response.json();\n      this.suggestions = data.features;\n    },\n    selectSuggestion(suggestion) {\n      this.searchQuery = suggestion.place_name;\n      this.suggestions = [];\n      const [lng, lat] = suggestion.center;\n      this.setMarker(lng, lat);\n    },\n    highlightSuggestion(direction) {\n      const max = this.suggestions.length - 1;\n      if (max < 0) return;\n\n      this.highlighted += direction;\n      if (this.highlighted < 0) this.highlighted = max;\n      if (this.highlighted > max) this.highlighted = 0;\n    },\n    selectHighlighted() {\n      if (this.highlighted >= 0 && this.highlighted < this.suggestions.length) {\n        this.selectSuggestion(this.suggestions[this.highlighted]);\n      }\n    },\n    setMarker(lng, lat) {\n      if (!this.map) return;\n      this.map.flyTo({ center: [lng, lat], zoom: 14 });\n\n      if (this.marker) {\n        this.marker.setLngLat([lng, lat]);\n      } else {\n        this.marker = new mapboxgl.Marker({ color: \"red\", draggable: true })\n          .setLngLat([lng, lat])\n          .addTo(this.map);\n\n        this.marker.on(\"dragend\", this.reverseGeocodeMarker);\n      }\n\n      this.reverseGeocodeMarker();\n      this.locationCoords = { lng, lat };\n    },\n    async reverseGeocodeMarker() {\n      const lngLat = this.marker.getLngLat();\n      const response = await fetch(\n        `https://api.mapbox.com/geocoding/v5/mapbox.places/${lngLat.lng},${lngLat.lat}.json?access_token=${mapboxgl.accessToken}`\n      );\n      const data = await response.json();\n      if (data.features[0]) {\n        this.searchQuery = data.features[0].place_name;\n      }\n    },\n    uploadImage() {\n      const input = document.createElement(\"input\");\n      input.type = \"file\";\n      input.accept = \"image/*\";\n      input.onchange = (event) => {\n        this.imageFile = event.target.files[0];\n        if (this.imageFile) {\n          const reader = new FileReader();\n          reader.onload = (e) => {\n            this.imageUrl = e.target.result;\n          };\n          reader.readAsDataURL(this.imageFile);\n        }\n      };\n      input.click();\n    },\n    removeImage() {\n      this.imageFile = null;\n      this.imageUrl = \"\";\n    },\n    startDrag() {\n      this.isDragging = true;\n      this.dragStyle = {\n        cursor: \"grabbing\",\n        opacity: 0.7,\n      };\n    },\n    endDrag() {\n      this.isDragging = false;\n      this.dragStyle = {};\n    },\n    async loadLocationData() {\n      const db = getFirestore();\n      const locationRef = doc(db, \"locations\", this.$route.params.id);\n      const locationDoc = await getDoc(locationRef);\n\n      if (locationDoc.exists()) {\n        const locationData = locationDoc.data();\n        this.locationId = locationDoc.id;\n        this.locationName = locationData.name;\n        this.locationDescription = locationData.description;\n        this.searchQuery = locationData.address;\n        this.locationCoords = locationData.coordinates;\n        this.imageUrl = locationData.imageUrl;\n        this.setMarker(\n          locationData.coordinates.lng,\n          locationData.coordinates.lat\n        );\n      }\n    },\n    async saveLocation() {\n      // Check if the required fields are filled\n      if (!this.locationName || !this.searchQuery || !this.locationCoords) {\n        alert(\"Будь ласка, заповніть всі обов'язкові поля!\");\n        return;\n      }\n\n      // Only upload image if the user selected a new one\n      let imageUrl = this.imageUrl; // Use existing image URL if no new image is uploaded\n      if (this.imageFile) {\n        const storage = getStorage();\n        const storageRef = ref(\n          storage,\n          `locations/${Date.now()}_${this.imageFile.name}`\n        );\n\n        try {\n          const snapshot = await uploadBytes(storageRef, this.imageFile);\n          imageUrl = await getDownloadURL(snapshot.ref);\n        } catch (error) {\n          console.error(\"Error uploading image:\", error);\n          alert(\"Сталася помилка при завантаженні фото.\");\n          return;\n        }\n      }\n\n      const db = getFirestore();\n      const auth = getAuth();\n      const user = auth.currentUser;\n\n      let username = \"Без імені\";\n      const userDocRef = doc(db, \"users\", user.uid);\n      const userDocSnap = await getDoc(userDocRef);\n\n      if (userDocSnap.exists()) {\n        username = userDocSnap.data().username || username;\n      }\n\n      const locationRef = doc(db, \"locations\", this.locationId);\n      try {\n        await updateDoc(locationRef, {\n          name: this.locationName,\n          description: this.locationDescription,\n          address: this.searchQuery,\n          coordinates: this.locationCoords,\n          userUid: user.uid,\n          username: username,\n          imageUrl: imageUrl, // Updated or existing image URL\n          status: \"pending\", // Reset the status to \"pending\" after editing\n          updatedAt: Timestamp.fromDate(new Date()),\n        });\n\n        alert(\"Локацію успішно оновлено!\");\n        this.$router.push(\"/my-publications\");\n      } catch (error) {\n        console.error(\"Error saving location:\", error);\n        alert(\"Сталася помилка при збереженні локації.\");\n      }\n    },\n    cancel() {\n      this.$router.push(\"/my-publications\");\n    },\n  },\n  mounted() {\n    this.loadLocationData();\n\n    this.map = new mapboxgl.Map({\n      container: this.$refs.mapContainer,\n      style: \"mapbox://styles/mapbox/streets-v11\",\n      center: [25.0, 49.0],\n      zoom: 8,\n    });\n  },\n};\n</script>\n\n<style scoped>\n.create {\n  padding: 40px;\n  display: flex;\n  justify-content: center;\n}\n\n.island-create {\n  background-color: black;\n  padding: 30px 100px 80px 100px;\n  width: 1000px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 20px;\n}\n\n.location-title {\n  font-size: 1.3rem;\n  color: white;\n  margin: 0;\n  margin-bottom: 20px;\n}\n\n.b-c {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  padding: 20px 20px;\n  gap: 20px;\n  width: 100%;\n  border: 2px solid white;\n  box-sizing: border-box;\n  flex-wrap: wrap;\n}\n\n.l-c {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 20px;\n  max-width: 300px;\n  flex: 1;\n}\n\n.p-t {\n  font-size: 1.1rem;\n  color: white;\n}\n\n.address-input {\n  width: 270px;\n  padding: 10px;\n  background: transparent;\n  border: none;\n  border-bottom: 2px solid white;\n  color: white;\n  font-size: 1rem;\n  outline: none;\n  box-sizing: border-box;\n}\n\n.location-map {\n  width: 100%;\n  max-width: 650px;\n  height: 350px;\n  border: 2px solid white;\n  position: relative;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n\n.suggestions {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  width: 100%;\n  background: black;\n  border: 1px solid white;\n  max-height: 150px;\n  overflow-y: auto;\n  color: white;\n  box-sizing: border-box;\n}\n\n.suggestions li {\n  padding: 10px;\n  cursor: pointer;\n}\n\n.suggestions li.active {\n  background-color: white;\n  color: black;\n}\n\n.c-button {\n  background-color: black;\n  color: white;\n  padding: 7px 8px;\n  text-decoration: none;\n  font-size: 0.9rem;\n  border: 2px solid white;\n  cursor: pointer;\n  width: 150px;\n}\n\n.image-upload-area {\n  width: 650px;\n  height: 300px;\n  background-color: gray;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  text-align: center;\n  border: 2px solid white;\n  cursor: grab;\n}\n\n.image-preview {\n  width: 650px;\n  height: 300px;\n  background-size: cover;\n  background-position: center;\n  border: 2px solid white;\n}\n.b-c-det {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding: 20px 20px;\n  gap: 20px;\n  width: 100%;\n  border: 2px solid white;\n  box-sizing: border-box;\n  flex-wrap: wrap;\n  text-align: center;\n}\n.det-inp {\n  width: 100%;\n  padding: 10px;\n  background: transparent;\n  border: none;\n  border-bottom: 2px solid white;\n  color: white;\n  font-size: 1rem;\n  outline: none;\n  box-sizing: border-box;\n}\n\n.location-buttons {\n  display: flex;\n  justify-content: flex-start;\n  gap: 20px;\n  margin-top: 20px;\n  width: 100%;\n}\n\n.location-buttons .c-button {\n  width: 100%;\n  max-width: 150px;\n  font-size: 1rem;\n  height: 40px;\n}\n</style>\n","import { render } from \"./EditLocation.vue?vue&type=template&id=280151d0&scoped=true\"\nimport script from \"./EditLocation.vue?vue&type=script&lang=js\"\nexport * from \"./EditLocation.vue?vue&type=script&lang=js\"\n\nimport \"./EditLocation.vue?vue&type=style&index=0&id=280151d0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-280151d0\"]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router';\nimport HomeView from '../views/HomeView.vue';\nimport Start from '@/views/Start.vue';\nimport Login from '@/views/Login.vue';\nimport Registration from '@/views/Registration.vue';\nimport Profile from '@/views/Profile.vue';\nimport CreateLocation from '@/views/CreateLocation.vue';\nimport Approve from '@/views/Approve.vue';\nimport MyPublications from '@/views/MyPublications.vue';\nimport EditLocation from '@/views/EditLocation.vue';\nimport { getAuth, onAuthStateChanged } from 'firebase/auth';\n\nconst routes = [\n  {\n    path: '/',\n    name: 'start',\n    component: Start\n  },\n  {\n    path: '/home',\n    name: 'home',\n    component: HomeView\n  },\n  {\n    path: '/login',\n    name: 'login',\n    component: Login\n  },\n  {\n    path: '/registration',\n    name: 'registration',\n    component: Registration\n  },\n  {\n    path: '/profile',\n    name: 'profile',\n    component: Profile,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/create-location',\n    name: 'create-location',\n    component: CreateLocation,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/approve',\n    name: 'approve', \n    component: Approve,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/my-publications',\n    name: 'my-publications',\n    component: MyPublications,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/edit-location/:id',\n    name: 'edit-location',\n    component: EditLocation,\n    meta: { requiresAuth: true },\n    props: true\n  },\n];\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n});\n\nconst getCurrentUser = () => {\n  return new Promise((resolve, reject) => {\n    const removeListener = onAuthStateChanged(\n      getAuth(),\n      (user) => {\n        removeListener();\n        resolve(user);\n      },\n      reject\n    );\n  });\n};\n\nrouter.beforeEach(async (to, from, next) => {\n  if (to.matched.some((record) => record.meta.requiresAuth)) {\n    if (await getCurrentUser()) {\n      next();\n    } else {\n      console.log('You are not logged in');\n      next('/login');\n    }\n  } else {\n    next();\n  }\n});\n\nexport default router;\n","import { createApp } from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport { initializeApp } from 'firebase/app';\nimport { getFirestore } from 'firebase/firestore';\nimport { getStorage } from 'firebase/storage';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\ncreateApp(App).use(router).mount('#app');\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyA_e0D4JlvkLdZvTE3PA7hy0W15wTXuMxI\",\n  authDomain: \"kursova-5374b.firebaseapp.com\",\n  databaseURL: \"https://kursova-5374b-default-rtdb.europe-west1.firebasedatabase.app\",\n  projectId: \"kursova-5374b\",\n  storageBucket: \"kursova-5374b.appspot.com\",\n  messagingSenderId: \"444568413958\",\n  appId: \"1:444568413958:web:e4258c7fa4134d96fee087\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst db = getFirestore(app);  // Corrected\nconst storage = getStorage(app);  // Corrected\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkdiploma_bach\"] = self[\"webpackChunkdiploma_bach\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(443)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["script","__exports__","render","class","ref","type","placeholder","searchQuery","filteredItems","item","index","key","focusOnLocation","street","src","profileImage","alt","username","selectedLocation","addComment","newComment","comments","length","comment","text","locationImage","openFullscreen","goToPreviousLocation","disabled","hasPrevious","goToNextLocation","hasNext","closeFullscreen","href","id","to","user","role","profilePicture","email","data","created","auth","onAuthStateChanged","async","this","fetchUserData","uid","methods","db","userRef","userDoc","exists","console","log","logout","signOut","$router","push","error","components","Navbar","Footer","locations","map","currentUser","isFullscreenVisible","computed","filter","toLowerCase","includes","currentIndex","findIndex","loc","watch","newVal","loadComments","fetchLocations","q","querySnapshot","locationsWithPhotos","Promise","all","docs","docSnap","coordinates","isNaN","lat","lng","userUid","userSnap","userData","address","imageUrl","forEach","location","el","document","createElement","className","style","backgroundImage","width","height","backgroundSize","cursor","setLngLat","setPopup","setHTML","addTo","addEventListener","flyTo","center","zoom","trim","commentsRef","createdAt","Date","locationId","snapshot","doc","prev","next","mounted","container","$refs","mapContainer","window","resize","images","image","name","setInterval","BackgroundSlider","loginError","login","password","custom","navigate","message","usernameError","emailError","passwordError","register","validateEmail","regex","test","validatePassword","userCredential","userDocRef","status","code","triggerFileInput","accept","handleFileChange","formatDate","rows","newDescription","saveDescription","cancelEdit","description","editingDescription","editDescription","deleteAccount","blockedUsers","blocked","blockedAt","unblockUser","userLocations","userComments","fetchUserLocations","fetchBlockedUsers","blockedUsersQuery","blockedUsersSnap","locationsQuery","locationsSnap","date","d","toDate","toLocaleDateString","then","catch","delete","userId","fileInput","click","event","file","target","files","storage","fileRef","downloadURL","updateProfilePicture","fetchSuggestions","highlightSuggestion","selectHighlighted","suggestions","suggestion","highlighted","selectSuggestion","place_name","uploadImage","removeImage","onDrop","startDrag","endDrag","dragStyle","draggable","required","locationName","locationDescription","saveLocation","cancel","marker","isDragging","locationCoords","imageFile","response","fetch","encodeURIComponent","json","features","setMarker","direction","max","color","on","reverseGeocodeMarker","lngLat","getLngLat","input","onchange","reader","FileReader","onload","e","result","readAsDataURL","opacity","alert","storageRef","now","userDocSnap","locationRef","fromDate","clearForm","requests","request","approveRequest","rejectRequest","requestsWithPhotos","getUserPhotoByUsername","usersRef","empty","photoURL","req","publications","publication","showActions","deletePublication","isMounted","publicationRef","pub","editPublication","onBeforeUnmount","loadLocationData","$route","params","locationDoc","locationData","updatedAt","routes","path","component","Start","HomeView","Login","Registration","Profile","meta","requiresAuth","CreateLocation","Approve","MyPublications","EditLocation","props","router","history","getCurrentUser","resolve","reject","removeListener","beforeEach","from","matched","some","record","App","use","mount","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","app","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","splice","r","n","getter","__esModule","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}