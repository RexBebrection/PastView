{"version":3,"file":"js/app.c4753143.js","mappings":"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","sources":["webpack://diploma-bach/./src/App.vue","webpack://diploma-bach/./src/App.vue?7ccd","webpack://diploma-bach/./src/views/HomeView.vue","webpack://diploma-bach/./src/components/Navbar.vue","webpack://diploma-bach/./src/components/Navbar.vue?436b","webpack://diploma-bach/./src/components/Footer.vue","webpack://diploma-bach/./src/components/Footer.vue?7cca","webpack://diploma-bach/./src/views/HomeView.vue?1da1","webpack://diploma-bach/./src/views/Start.vue","webpack://diploma-bach/./src/components/BackgroundSlider.vue","webpack://diploma-bach/./src/components/BackgroundSlider.vue?cae9","webpack://diploma-bach/./src/views/Start.vue?6c97","webpack://diploma-bach/./src/views/Login.vue","webpack://diploma-bach/./src/views/Login.vue?240b","webpack://diploma-bach/./src/views/Registration.vue","webpack://diploma-bach/./src/views/Registration.vue?49a0","webpack://diploma-bach/./src/views/Profile.vue","webpack://diploma-bach/./src/views/Profile.vue?24e8","webpack://diploma-bach/./src/views/CreateLocation.vue","webpack://diploma-bach/./src/views/CreateLocation.vue?c36d","webpack://diploma-bach/./src/views/Approve.vue","webpack://diploma-bach/./src/views/Approve.vue?2f10","webpack://diploma-bach/./src/views/MyPublications.vue","webpack://diploma-bach/./src/views/MyPublications.vue?57c3","webpack://diploma-bach/./src/views/EditLocation.vue","webpack://diploma-bach/./src/views/EditLocation.vue?3302","webpack://diploma-bach/./src/router/index.js","webpack://diploma-bach/./src/main.js","webpack://diploma-bach/webpack/bootstrap","webpack://diploma-bach/webpack/runtime/chunk loaded","webpack://diploma-bach/webpack/runtime/compat get default export","webpack://diploma-bach/webpack/runtime/define property getters","webpack://diploma-bach/webpack/runtime/global","webpack://diploma-bach/webpack/runtime/hasOwnProperty shorthand","webpack://diploma-bach/webpack/runtime/publicPath","webpack://diploma-bach/webpack/runtime/jsonp chunk loading","webpack://diploma-bach/webpack/startup"],"sourcesContent":["<template>\r\n  <nav> \r\n  </nav>\r\n  <router-view/>\r\n</template>\r\n\r\n\r\n\r\n<style>\r\nhtml, body {\r\n  background-color: black;\r\n  background-image: url('./assets/AlterBackground.webp');\r\n  background-size: cover;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  font-family: 'Montserrat', sans-serif;\r\n  color: white;\r\n  margin: 0;\r\n  padding: 0;\r\n  scrollbar-face-color: #646464;\r\n  scrollbar-base-color: #646464;\r\n  scrollbar-3dlight-color: #646464;\r\n  scrollbar-highlight-color: #646464;\r\n  scrollbar-track-color: #000;\r\n  scrollbar-arrow-color: #000;\r\n  scrollbar-shadow-color: #646464;\r\n}\r\n::-webkit-scrollbar { width: 8px; height: 3px;}\r\n::-webkit-scrollbar-button {  background-color: #666; }\r\n::-webkit-scrollbar-track {  background-color: #646464;}\r\n::-webkit-scrollbar-track-piece { background-color: #000;}\r\n::-webkit-scrollbar-thumb { height: 50px; background-color: #666; border-radius: 3px;}\r\n::-webkit-scrollbar-corner { background-color: #646464;}\r\n::-webkit-resizer { background-color: #666;}\r\nbutton {\r\n  font-family: 'Montserrat', sans-serif;\r\n}\r\n\r\n</style>\r\n","import { render } from \"./App.vue?vue&type=template&id=b8499346\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=b8499346&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <Navbar />\r\n  <div class=\"home\">\r\n    <div class=\"home-content\">\r\n      <p class=\"home-title\">Інтерактивна ретро-карта міста Львів</p>\r\n      <div class=\"home-info-container\">\r\n        <div class=\"map-border\">\r\n          <div ref=\"mapContainer\" class=\"map\"></div>\r\n        </div>\r\n        <div class=\"home-info-list\">\r\n          <div class=\"search-bar\">\r\n            <input type=\"text\" v-model=\"searchQuery\" placeholder=\"Пошук...\" />\r\n          </div>\r\n          <div\r\n            class=\"home-info-item\"\r\n            v-for=\"(item, index) in filteredItems\"\r\n            :key=\"index\"\r\n            @click=\"focusOnLocation(item)\"\r\n          >\r\n            <div class=\"street-name\">{{ item.street }}</div>\r\n            <div class=\"profile-info-home\">\r\n              <img\r\n                :src=\"item.profileImage\"\r\n                alt=\"Profile\"\r\n                class=\"profile-image-home\"\r\n              />\r\n              <p class=\"profile-name\">{{ item.username }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"selectedLocation\" class=\"location-details\">\r\n        <div class=\"location-details-left\">\r\n          <div class=\"location-details-data\">\r\n            <p>{{ selectedLocation.street }}</p>\r\n            <p>Copyright: @{{ selectedLocation.username }}</p>\r\n          </div>\r\n          <div class=\"location-details-comments\">\r\n            <form @submit.prevent=\"addComment\">\r\n              <input\r\n                type=\"text\"\r\n                v-model=\"newComment\"\r\n                placeholder=\"Напиши коментар...\"\r\n              />\r\n              <button type=\"submit\">Додати</button>\r\n            </form>\r\n\r\n            <div class=\"comments\">\r\n              <p v-if=\"comments.length === 0\">Коментарів поки немає.</p>\r\n              <ul>\r\n                <li\r\n                  v-for=\"(comment, index) in comments\"\r\n                  :key=\"index\"\r\n                  class=\"comment-item\"\r\n                >\r\n                  <img\r\n                    :src=\"comment.profileImage\"\r\n                    alt=\"avatar\"\r\n                    class=\"comment-avatar\"\r\n                  />\r\n                  <div>\r\n                    <p class=\"comment-username\">{{ comment.username }}</p>\r\n                    <p class=\"comment-text\">{{ comment.text }}</p>\r\n                  </div>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"location-details-right\">\r\n          <img\r\n            :src=\"selectedLocation.locationImage\"\r\n            alt=\"Large Location\"\r\n            class=\"large-photo\"\r\n          />\r\n          <div class=\"location-navigation\">\r\n            <button @click=\"goToPreviousLocation\" :disabled=\"!hasPrevious\">\r\n              ←\r\n            </button>\r\n            <button @click=\"goToNextLocation\" :disabled=\"!hasNext\">→</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <Footer />\r\n</template>\r\n\r\n<script>\r\nimport Navbar from \"@/components/Navbar.vue\";\r\nimport Footer from \"@/components/Footer.vue\";\r\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\r\nimport {\r\n  getFirestore,\r\n  collection,\r\n  query,\r\n  getDocs,\r\n  where,\r\n  doc,\r\n  getDoc,\r\n  addDoc,\r\n} from \"firebase/firestore\";\r\nimport mapboxgl from \"mapbox-gl\";\r\n\r\nexport default {\r\n  components: {\r\n    Navbar,\r\n    Footer\r\n  },\r\n  data() {\r\n    return {\r\n      searchQuery: \"\",\r\n      locations: [],\r\n      map: null,\r\n      selectedLocation: null,\r\n      comments: [],\r\n      newComment: \"\",\r\n      currentUser: {\r\n        username: \"\",\r\n        profileImage: \"\",\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    filteredItems() {\r\n      return this.locations.filter((item) =>\r\n        item.street.toLowerCase().includes(this.searchQuery.toLowerCase())\r\n      );\r\n    },\r\n    currentIndex() {\r\n      return this.locations.findIndex(\r\n        (loc) => loc.id === this.selectedLocation?.id\r\n      );\r\n    },\r\n    hasPrevious() {\r\n      return this.currentIndex > 0;\r\n    },\r\n    hasNext() {\r\n      return this.currentIndex < this.locations.length - 1;\r\n    },\r\n  },\r\n  watch: {\r\n    selectedLocation(newVal) {\r\n      if (newVal) {\r\n        this.loadComments(newVal.id);\r\n      }\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    async fetchLocations() {\r\n      const db = getFirestore();\r\n      const q = query(\r\n        collection(db, \"locations\"),\r\n        where(\"status\", \"==\", \"approved\")\r\n      );\r\n      const querySnapshot = await getDocs(q);\r\n      const locationsWithPhotos = await Promise.all(\r\n        querySnapshot.docs.map(async (docSnap) => {\r\n          const data = docSnap.data();\r\n          const coordinates = data.coordinates;\r\n\r\n          if (\r\n            !coordinates ||\r\n            isNaN(coordinates.lat) ||\r\n            isNaN(coordinates.lng)\r\n          ) {\r\n            console.error(`Некоректні координати для локації ${docSnap.id}`);\r\n            return null;\r\n          }\r\n\r\n          const userUid = data.userUid;\r\n          const userRef = doc(db, \"users\", userUid);\r\n          const userSnap = await getDoc(userRef);\r\n\r\n          let profilePicture = \"/default-avatar.png\";\r\n          let username = \"Анонім\";\r\n\r\n          if (userSnap.exists()) {\r\n            const userData = userSnap.data();\r\n            profilePicture = userData.profilePicture || profilePicture;\r\n            username = userData.username || username;\r\n          } else {\r\n            console.error(`Не знайдено користувача з UID ${userUid}`);\r\n          }\r\n\r\n          return {\r\n            id: docSnap.id,\r\n            street: data.address,\r\n            profileImage: profilePicture,\r\n            username: username,\r\n            coordinates: [coordinates.lng, coordinates.lat],\r\n            locationImage: data.imageUrl || \"/default-location.jpg\",\r\n          };\r\n        })\r\n      );\r\n\r\n      this.locations = locationsWithPhotos.filter((item) => item !== null);\r\n\r\n      this.locations.forEach((location) => {\r\n        const el = document.createElement(\"div\");\r\n        el.className = \"custom-marker\";\r\n        el.style.backgroundImage =\r\n          \"url('https://firebasestorage.googleapis.com/v0/b/kursova-5374b.appspot.com/o/bach%2FPointerBlicking.png?alt=media&token=836b276d-467a-4239-8848-8a6ce42a941e')\";\r\n        el.style.width = \"40px\";\r\n        el.style.height = \"40px\";\r\n        el.style.backgroundSize = \"cover\";\r\n        el.style.cursor = \"pointer\";\r\n\r\n        const marker = new mapboxgl.Marker(el)\r\n          .setLngLat(location.coordinates)\r\n          .setPopup(\r\n            new mapboxgl.Popup().setHTML(`\r\n        <img class=\"photo-preview\" src=\"${location.locationImage}\" alt=\"Location Photo\" \">\r\n        <p class=\"text-preview\" style=\"margin-top: 4px;\">${location.street}</p>\r\n      `)\r\n          )\r\n          .addTo(this.map);\r\n\r\n        el.addEventListener(\"click\", () => {\r\n          this.selectedLocation = location;\r\n        });\r\n      });\r\n    },\r\n    focusOnLocation(item) {\r\n      this.map.flyTo({ center: item.coordinates, zoom: 15 });\r\n      this.selectedLocation = item;\r\n    },\r\n    async addComment() {\r\n      if (!this.newComment.trim() || !this.selectedLocation) return;\r\n\r\n      const auth = getAuth();\r\n      const user = auth.currentUser;\r\n\r\n      if (!user) {\r\n        console.error(\"User is not logged in.\");\r\n        return;\r\n      }\r\n\r\n      const db = getFirestore();\r\n      const userRef = doc(db, \"users\", user.uid);\r\n      const userSnap = await getDoc(userRef);\r\n\r\n      if (!userSnap.exists()) {\r\n        console.error(`Користувач з UID ${user.uid} не знайдений.`);\r\n        return;\r\n      }\r\n\r\n      const userData = userSnap.data();\r\n      const username = userData.username || \"Анонім\";\r\n      const profileImage = userData.profilePicture || \"/default-avatar.png\";\r\n\r\n      const commentsRef = collection(\r\n        db,\r\n        \"locations\",\r\n        this.selectedLocation.id,\r\n        \"comments\"\r\n      );\r\n\r\n      await addDoc(commentsRef, {\r\n        text: this.newComment,\r\n        createdAt: new Date(),\r\n        userUid: user.uid,\r\n        username: username,\r\n        profileImage: profileImage,\r\n      });\r\n\r\n      this.newComment = \"\";\r\n      this.loadComments(this.selectedLocation.id);\r\n    },\r\n    async loadComments(locationId) {\r\n      const db = getFirestore();\r\n      const commentsRef = collection(db, \"locations\", locationId, \"comments\");\r\n      const snapshot = await getDocs(commentsRef);\r\n\r\n      // Мапимо коментарі, і дані вже є в самих коментарях\r\n      this.comments = snapshot.docs.map((doc) => doc.data());\r\n    },\r\n    goToPreviousLocation() {\r\n      if (this.hasPrevious) {\r\n        const prev = this.locations[this.currentIndex - 1];\r\n        this.focusOnLocation(prev);\r\n      }\r\n    },\r\n    goToNextLocation() {\r\n      if (this.hasNext) {\r\n        const next = this.locations[this.currentIndex + 1];\r\n        this.focusOnLocation(next);\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    mapboxgl.accessToken =\r\n      \"pk.eyJ1IjoibHZxMWljZW1hbiIsImEiOiJjbHU4ZmtuZ2MwYzRvMm9yeGQzZnBycjBkIn0.u4QC3601L2OcFCzw8kzvmw\";\r\n    this.map = new mapboxgl.Map({\r\n      container: this.$refs.mapContainer,\r\n      style: \"mapbox://styles/lvq1iceman/cm9ootxch009b01qs40wa1c8q\",\r\n      center: [24.0315, 49.8397],\r\n      zoom: 13,\r\n    });\r\n    window.addEventListener(\"resize\", () => {\r\n      if (this.map) {\r\n        this.map.resize();\r\n      }\r\n    });\r\n    this.fetchLocations();\r\n    const auth = getAuth();\r\n    onAuthStateChanged(auth, async (user) => {\r\n      if (user) {\r\n        const db = getFirestore();\r\n        const userRef = doc(db, \"users\", user.uid);\r\n        const userSnap = await getDoc(userRef);\r\n        if (userSnap.exists()) {\r\n          const userData = userSnap.data();\r\n          const profilePicture =\r\n            userData.profilePicture || \"/default-avatar.png\";\r\n          const username = userData.username || \"Анонім\";\r\n\r\n          if (userSnap.exists()) {\r\n            const userData = userSnap.data();\r\n            this.currentUser = {\r\n              uid: user.uid,\r\n              username: userData.username || \"Анонім\",\r\n              profileImage: userData.profilePicture || \"/default-avatar.png\",\r\n            };\r\n          }\r\n        } else {\r\n          console.error(`Не знайдено користувача з UID ${userUid}`);\r\n          return null;\r\n        }\r\n      }\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.home {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding-bottom: 40px;\r\n  min-height: 100vh;\r\n}\r\n\r\n.home-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 1;\r\n  position: relative;\r\n  width: 1200px;\r\n}\r\n\r\n.home-title {\r\n  font-size: 21px;\r\n  margin: 30px 0 10px 0;\r\n}\r\n\r\n.home-info-container {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 20px;\r\n  margin-top: 20px;\r\n  width: 100%;\r\n}\r\n\r\n.home-info-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  background-color: black;\r\n  border-radius: 3px;\r\n  padding: 60px 10px 20px 20px;\r\n  width: 30%;\r\n  overflow-y: auto;\r\n  flex: 1;\r\n  color: white;\r\n  height: 370px;\r\n  scrollbar-width: thin;\r\n}\r\n\r\n.search-bar {\r\n  margin-bottom: 20px;\r\n  width: 275px;\r\n  height: 70px;\r\n  background-color: black;\r\n  position: absolute;\r\n  margin: -60px -20px -20px -20px;\r\n  align-items: center;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.search-bar input {\r\n  width: 220px;\r\n  padding: 7px;\r\n  border: 2px solid #fff;\r\n  background-color: #000;\r\n  color: #fff;\r\n  font-size: 16px;\r\n  border-radius: 0;\r\n}\r\n\r\n.map-border {\r\n  padding: 25px;\r\n  width: 70%;\r\n  background-color: black;\r\n}\r\n\r\n.map {\r\n  width: 100%;\r\n  height: 400px;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.home-info-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 10px 10px 10px 0px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.street-name {\r\n  flex: 1;\r\n  font-size: 13px;\r\n  font-weight: 400;\r\n  max-width: 160px;\r\n}\r\n\r\n.profile-info-home {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  text-align: center;\r\n  width: 50px;\r\n}\r\n\r\n.profile-image-home {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.profile-name {\r\n  font-size: 12px;\r\n  font-weight: 400;\r\n  font-weight: normal;\r\n  margin: 0;\r\n}\r\n.custom-marker {\r\n  border-radius: 50%;\r\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.location-details {\r\n  margin-top: 20px;\r\n  color: #fff;\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 55px;\r\n}\r\n\r\n.location-details-left {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  width: 55%;\r\n}\r\n\r\n.location-details-data {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 10px;\r\n  justify-content: start;\r\n  background-color: black;\r\n  padding: 20px;\r\n}\r\n\r\n.location-details-data p {\r\n  margin: 0;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.location-details-comments {\r\n  background-color: black;\r\n  padding: 20px 30px;\r\n  width: 97%;\r\n}\r\n\r\n.location-details-comments form {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 5px;\r\n}\r\n\r\n.location-details-comments form input {\r\n  width: 100%;\r\n  padding: 10px;\r\n  background-color: black;\r\n  border: 2px solid #fff;\r\n  color: #fff;\r\n  font-size: 0.8rem;\r\n  border-radius: 0;\r\n}\r\n\r\n.location-details-comments form button {\r\n  padding: 10px;\r\n  background-color: black;\r\n  border: 2px solid #fff;\r\n  color: #fff;\r\n  font-size: 0.8rem;\r\n  cursor: pointer;\r\n}\r\n\r\n.comments {\r\n  margin-top: 20px;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.comments ul {\r\n  list-style: none;\r\n  padding: 0;\r\n}\r\n.comment-item {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.comment-avatar {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  margin-right: 10px;\r\n}\r\n\r\n.comment-username {\r\n  font-size: 0.95rem;\r\n  margin: 0;\r\n}\r\n\r\n.comment-text {\r\n  font-size: 0.9rem;\r\n  color: #7a7a7a;\r\n  margin: 0;\r\n}\r\n\r\n.location-details-right {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 40%;\r\n  padding-top: 20px;\r\n  padding-bottom: 15px;\r\n  background-color: black;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 300px;\r\n}\r\n.large-photo {\r\n  width: 435px;\r\n  height: 250px;\r\n  object-fit: cover;\r\n  margin-bottom: 10px;\r\n  border: 2px solid #fff;\r\n}\r\n.location-navigation {\r\n  display: flex;\r\n  justify-content: start;\r\n  align-items: start;\r\n  margin-top: 10px;\r\n  width: 100%;\r\n  padding-left: 40px;\r\n  gap: 15px;\r\n}\r\n.location-navigation button {\r\n  background-color: black;\r\n  border: 2px solid #fff;\r\n  color: #fff;\r\n  font-size: 0.8rem;\r\n  cursor: pointer;\r\n  width: 90px;\r\n  height: 25px;\r\n}\r\n\r\n.mapboxgl-popup-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: black;\r\n  color: white;\r\n\r\n  border-radius: 4px;\r\n  font-size: 0.8rem;\r\n}\r\n.photo-preview {\r\n  width: 220px;\r\n  height: 115px;\r\n  object-fit: cover;\r\n}\r\n\r\n.text-preview {\r\n  font-size: 0.8rem;\r\n  color: white;\r\n  margin: 0;\r\n}\r\n</style>\r\n","<template>\r\n  <nav>\r\n    <div class=\"navbar\">\r\n      <router-link to=\"/home\" class=\"navbar-item\">\r\n        <div class=\"navbar-brand\">\r\n          <img src=\"../assets/Logo(big).png\" />\r\n        </div>\r\n      </router-link>\r\n      <div class=\"navbar-menu\">\r\n        <div class=\"navbar-start\" v-if=\"user\">\r\n          <router-link to=\"/home\" class=\"navbar-item\" id=\"link\"\r\n            >Головна</router-link\r\n          >\r\n          <router-link\r\n            v-if=\"user.role !== 'moderator'\"\r\n            to=\"/create-location\"\r\n            class=\"navbar-item\"\r\n            id=\"link\"\r\n            >Додати локацію</router-link\r\n          >\r\n          <router-link\r\n            v-if=\"user.role !== 'moderator'\"\r\n            to=\"/my-publications\"\r\n            class=\"navbar-item\"\r\n            id=\"link\"\r\n          >\r\n            Мої публікації\r\n          </router-link>\r\n          <router-link\r\n            v-if=\"user.role == 'moderator'\"\r\n            to=\"/approve\"\r\n            class=\"navbar-item\"\r\n            id=\"link\"\r\n          >\r\n            Підтвердження\r\n          </router-link>\r\n          <a\r\n            href=\"mailto:someone@example.com\"\r\n            v-if=\"user.role !== 'moderator'\"\r\n            class=\"navbar-item\"\r\n            id=\"link\"\r\n          >\r\n            Написати відгук\r\n          </a>\r\n        </div>\r\n      </div>\r\n      <div class=\"navbar-profile\">\r\n        <template v-if=\"user\">\r\n          <router-link to=\"/profile\" class=\"navbar-profile-link\" id=\"link\">\r\n            <div class=\"profile-pic-wrapper\">\r\n              <img :src=\"user.profilePicture\" alt=\"Profile\" />\r\n            </div>\r\n            <p class=\"navbar-profile-email\">{{ user.email }}</p>\r\n          </router-link>\r\n        </template>\r\n        <template v-else>\r\n          <router-link to=\"/login\" class=\"navbar-item\" id=\"link\"\r\n            >Увійти</router-link\r\n          >\r\n          <router-link to=\"/registration\" class=\"navbar-item\" id=\"link\"\r\n            >Зареєструватись</router-link\r\n          >\r\n        </template>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\r\nimport { getFirestore, doc, getDoc } from \"firebase/firestore\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: null,\r\n    };\r\n  },\r\n  created() {\r\n    const auth = getAuth();\r\n    auth.onAuthStateChanged(async (user) => {\r\n      if (user) {\r\n        this.user = user;\r\n        await this.fetchUserData(user.uid);\r\n      } else {\r\n        this.user = null;\r\n      }\r\n    });\r\n  },\r\n  methods: {\r\n    async fetchUserData(uid) {\r\n      const db = getFirestore();\r\n      const userRef = doc(db, \"users\", uid); // Колекція \"users\", документ за uid\r\n      const userDoc = await getDoc(userRef);\r\n      if (userDoc.exists()) {\r\n        this.user = {\r\n          ...this.user, // Зберігаємо основні дані\r\n          ...userDoc.data(), // додаємо дані з Firestore\r\n        };\r\n      } else {\r\n        console.log(\"User not found in Firestore\");\r\n      }\r\n    },\r\n    async logout() {\r\n      try {\r\n        await signOut(getAuth());\r\n        this.$router.push(\"/\");\r\n      } catch (error) {\r\n        console.error(\"Logout error\", error);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.navbar {\r\n  background-color: black;\r\n  padding: 0px 10% 0px 10%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.navbar-brand img {\r\n  max-width: 50px;\r\n  height: auto;\r\n}\r\n\r\n.navbar-menu {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-left: 1rem;\r\n}\r\n\r\n.navbar-start {\r\n  display: flex;\r\n  gap: 1%;\r\n  width: 600px;\r\n}\r\n\r\n.navbar-item {\r\n  color: white;\r\n  text-decoration: none;\r\n  padding: 0.5rem 1rem;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.navbar-profile {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-left: auto;\r\n}\r\n\r\n.navbar-profile-link {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 15px;\r\n  text-decoration: none;\r\n  color: white;\r\n}\r\n\r\n.profile-pic-wrapper {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  overflow: hidden;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.profile-pic-wrapper img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  display: block;\r\n}\r\n.navbar-profile-email {\r\n  font-size: 0.9rem;\r\n  margin-left: 0px;\r\n  color: white;\r\n}\r\n</style>\r\n","import { render } from \"./Navbar.vue?vue&type=template&id=5a3ad73c&scoped=true\"\nimport script from \"./Navbar.vue?vue&type=script&lang=js\"\nexport * from \"./Navbar.vue?vue&type=script&lang=js\"\n\nimport \"./Navbar.vue?vue&type=style&index=0&id=5a3ad73c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5a3ad73c\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"footer\">\r\n        <img src=\"../assets/Logo(big).png\">\r\n    </div>\r\n</template>\r\n\r\n<style scoped>\r\n.footer {\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 120px;\r\n    background-color: black;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    z-index: 1000;\r\n}\r\n\r\n.footer img {\r\n    width: 50px;\r\n    height: auto;\r\n}\r\n</style>\r\n","import { render } from \"./Footer.vue?vue&type=template&id=1a9f94d3&scoped=true\"\nconst script = {}\n\nimport \"./Footer.vue?vue&type=style&index=0&id=1a9f94d3&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1a9f94d3\"]])\n\nexport default __exports__","import { render } from \"./HomeView.vue?vue&type=template&id=39c64dba\"\nimport script from \"./HomeView.vue?vue&type=script&lang=js\"\nexport * from \"./HomeView.vue?vue&type=script&lang=js\"\n\nimport \"./HomeView.vue?vue&type=style&index=0&id=39c64dba&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"start\">\r\n    <BackgroundSlider />\r\n    <div class=\"island\">\r\n      <div class=\"island-border\">\r\n        <img src=\"../assets/Logo(big).png\" alt=\"Island\" class=\"island-image\" />\r\n        <p class=\"island-text\">\r\n          Ласкаво просимо до Past View — унікального сервісу, що переносить вас\r\n          у минуле міста. Натискайте на точки на карті, щоб побачити старовинні\r\n          фотографії та дізнатися історії цих місць. Зареєструйтеся, щоб\r\n          додавати власні знімки, коментувати й ділитися своїми враженнями.\r\n          Відчуйте історію міста по-новому!\r\n        </p>\r\n      </div>\r\n      <div class=\"island-buttons\">\r\n        <router-link to=\"/home\" class=\"button-i\">Почати</router-link>\r\n        <router-link to=\"/login\" class=\"button-i\">Увійти</router-link>\r\n        <router-link to=\"/registration\" class=\"button-i\"\r\n          >Зареєструватись</router-link\r\n        >\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BackgroundSlider from \"@/components/BackgroundSlider.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    BackgroundSlider,\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.start {\r\n  height: 100vh;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n.island {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 3;\r\n  max-width: 800px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n}\r\n.island-border {\r\n  border: 2px solid white;\r\n  padding: 10px 5%;\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 10%;\r\n  text-align: right;\r\n  font-size: 1.2rem;\r\n}\r\n.island-buttons {\r\n  display: flex;\r\n  justify-content: start;\r\n  gap: 25px;\r\n}\r\n.button-i {\r\n  background-color: black;\r\n  color: white;\r\n  padding: 10px 20px;\r\n\r\n  text-decoration: none;\r\n  font-size: 1.2rem;\r\n  border: 2px solid white;\r\n}\r\n</style>\r\n","<template>\r\n    <div class=\"background-slider\">\r\n      <div class=\"gallery\">\r\n        <div\r\n          class=\"gallery-item\"\r\n          v-for=\"(image, index) in images\"\r\n          :key=\"index\"\r\n          :class=\"{ active: index === currentIndex }\"\r\n        >\r\n          <img :src=\"image\" alt=\"gallery-image\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    name: \"BackgroundSlider\",\r\n    data() {\r\n      return {\r\n        currentIndex: 0,\r\n        images: [\r\n          \"https://firebasestorage.googleapis.com/v0/b/kursova-5374b.appspot.com/o/bach%2Fbackground%2Flviv-zgori.png?alt=media&token=8560ad72-e2e9-4930-a069-3113a37b9455\",\r\n          \"https://firebasestorage.googleapis.com/v0/b/kursova-5374b.appspot.com/o/bach%2Fbackground%2Fdvometrovi-stiny-snigu-na-vul.-stryjskij.-foto-1920-1930-h-rr.%202.png?alt=media&token=085ed21c-1c34-4afb-a181-b89149a4409c\",\r\n          \"https://firebasestorage.googleapis.com/v0/b/kursova-5374b.appspot.com/o/bach%2Fbackground%2Fpelchinskiy-stav-i-tsitadel-u-1893-rotsi.png?alt=media&token=6da1184d-113b-41d1-b0fc-9203cbd9cd44\",\r\n          \"https://firebasestorage.googleapis.com/v0/b/kursova-5374b.appspot.com/o/bach%2Fbackground%2Ftramvay-12-yide-vniz-po-vul.-krivonosa.png?alt=media&token=f3ffc1b1-686c-406c-8c65-c60b1897aa1d\"\r\n        ],\r\n      };\r\n    },\r\n    mounted() {\r\n      setInterval(() => {\r\n        this.currentIndex = (this.currentIndex + 1) % this.images.length;\r\n      }, 6000);\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .background-slider {\r\n    height: 100vh;\r\n    overflow: hidden;\r\n    position: relative;\r\n  }\r\n  \r\n  .gallery {\r\n    display: flex;\r\n    height: 100%;\r\n    position: relative;\r\n  }\r\n  \r\n  .gallery-item {\r\n    min-width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    opacity: 0;\r\n    transition: opacity 0.5s ease-in-out;\r\n  }\r\n  \r\n  .gallery-item.active {\r\n    opacity: 1;\r\n    animation: slideIn 6s ease-out forwards;\r\n  }\r\n  \r\n  .gallery-item img {\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n  }\r\n  \r\n  .background-slider::before {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 45%;\r\n    height: 100%;\r\n    background-color: black;\r\n    z-index: 1;\r\n  }\r\n  \r\n  .background-slider::after {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 0;\r\n    left: 45%;\r\n    width: 55%;\r\n    height: 100%;\r\n    background: linear-gradient(\r\n      to right,\r\n      rgba(0, 0, 0, 1) 0%,\r\n      rgba(0, 0, 0, 0.9) 10%,\r\n      rgba(0, 0, 0, 0.7) 55%,\r\n      rgba(0, 0, 0, 0.5) 100%\r\n    );\r\n    z-index: 2;\r\n  }\r\n  \r\n  @keyframes slideIn {\r\n    0% {\r\n      transform: translateX(45%);\r\n    }\r\n    100% {\r\n      transform: translateX(0);\r\n    }\r\n  }\r\n  </style>\r\n  ","import { render } from \"./BackgroundSlider.vue?vue&type=template&id=48cad606&scoped=true\"\nimport script from \"./BackgroundSlider.vue?vue&type=script&lang=js\"\nexport * from \"./BackgroundSlider.vue?vue&type=script&lang=js\"\n\nimport \"./BackgroundSlider.vue?vue&type=style&index=0&id=48cad606&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-48cad606\"]])\n\nexport default __exports__","import { render } from \"./Start.vue?vue&type=template&id=38f70244&scoped=true\"\nimport script from \"./Start.vue?vue&type=script&lang=js\"\nexport * from \"./Start.vue?vue&type=script&lang=js\"\n\nimport \"./Start.vue?vue&type=style&index=0&id=38f70244&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-38f70244\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"start\">\r\n      <BackgroundSlider />\r\n      <div class=\"login-container\">\r\n        <img src=\"../assets/Logo(big).png\" alt=\"Logo\" class=\"logo-small\" />\r\n        <h2 class=\"login-title\">Вхід</h2>\r\n        <div class=\"login-inputs\">\r\n          <input\r\n            v-model=\"email\"\r\n            type=\"text\"\r\n            placeholder=\"Логін\"\r\n            class=\"login-input\"\r\n            :class=\"{'input-error': loginError}\"\r\n            @keyup.enter=\"login\"\r\n          />\r\n          <input\r\n            v-model=\"password\"\r\n            type=\"password\"\r\n            placeholder=\"Пароль\"\r\n            class=\"login-input\"\r\n            :class=\"{'input-error': loginError}\"\r\n            @keyup.enter=\"login\"\r\n          />\r\n        </div>\r\n        <div class=\"login-buttons\">\r\n          <button @click=\"login\" class=\"login-button\">Увійти</button>\r\n          <router-link to=\"/\" custom v-slot=\"{ navigate }\">\r\n            <button @click=\"navigate\" class=\"login-button\">Скасувати</button>\r\n          </router-link>\r\n        </div>\r\n        <div v-if=\"loginError\" class=\"error-text\">Неправильні логін або пароль</div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\r\n  import BackgroundSlider from \"@/components/BackgroundSlider.vue\";\r\n  \r\n  export default {\r\n    components: {\r\n      BackgroundSlider,\r\n    },\r\n    data() {\r\n      return {\r\n        email: '',\r\n        password: '',\r\n        loginError: false, // Флаг для помилки\r\n      };\r\n    },\r\n    methods: {\r\n      async login() {\r\n        const auth = getAuth();\r\n        try {\r\n          await signInWithEmailAndPassword(auth, this.email, this.password);\r\n          console.log(\"Успішний вхід!\");\r\n          this.$router.push(\"/home\");\r\n          this.loginError = false; // При успішному вході, помилка скидається\r\n        } catch (error) {\r\n          console.error(\"Помилка входу:\", error.message);\r\n          this.loginError = true; // Якщо помилка, ставимо флаг\r\n        }\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .start {\r\n    height: 100vh;\r\n    overflow: hidden;\r\n    position: relative;\r\n  }\r\n  \r\n  .login-container {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    z-index: 3;\r\n    max-width: 350px;\r\n    width: 90%;\r\n    padding: 40px 30px;\r\n    border: 2px solid white;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    gap: 50px;\r\n    background-color: rgba(0, 0, 0, 0.4);\r\n  }\r\n  \r\n  .logo-small {\r\n    width: 60px;\r\n  }\r\n  \r\n  .login-title {\r\n    color: white;\r\n    font-size: 1.2rem;\r\n    font-weight: 400;\r\n    margin: 0;\r\n  }\r\n  \r\n  .login-inputs {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 20px;\r\n    width: 80%;\r\n  }\r\n  \r\n  .login-input {\r\n    padding: 10px;\r\n    background: transparent;\r\n    border: none;\r\n    border-bottom: 2px solid white;\r\n    color: white;\r\n    font-size: 1rem;\r\n    outline: none;\r\n  }\r\n  \r\n  .login-input::placeholder {\r\n    color: white;\r\n    opacity: 0.7;\r\n  }\r\n  \r\n  .login-buttons {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 20px;\r\n    width: 40%;\r\n  }\r\n  \r\n  .login-button {\r\n    width: 100%;\r\n    padding: 10px;\r\n    background: transparent;\r\n    color: white;\r\n    border: 2px solid white;\r\n    font-size: 0.8rem;\r\n    cursor: pointer;\r\n  }\r\n  \r\n  .login-input:-webkit-autofill,\r\n  .login-input:-webkit-autofill:hover,\r\n  .login-input:-webkit-autofill:focus,\r\n  .login-input:-webkit-autofill:active {\r\n    -webkit-box-shadow: 0 0 0px 1000px transparent inset !important;\r\n    box-shadow: 0 0 0px 1000px transparent inset !important;\r\n    -webkit-text-fill-color: white !important;\r\n    transition: background-color 5000s ease-in-out 0s;\r\n  }\r\n  \r\n  .input-error {\r\n    border-bottom: 2px solid red;\r\n  }\r\n  \r\n  .error-text {\r\n    color: red;\r\n    font-size: 0.8rem;\r\n    margin-top: 10px;\r\n  }\r\n  </style>\r\n  ","import { render } from \"./Login.vue?vue&type=template&id=be9f99c2&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=be9f99c2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-be9f99c2\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"start\">\r\n      <BackgroundSlider />\r\n      <div class=\"registation-container\">\r\n        <img src=\"../assets/Logo(big).png\" alt=\"Logo\" class=\"logo-small\" />\r\n        <h2 class=\"registation-title\">Реєстрація</h2>\r\n        <div class=\"registation-inputs\">\r\n          <input\r\n            v-model=\"username\"\r\n            type=\"text\"\r\n            placeholder=\"Ім’я користувача\"\r\n            class=\"registation-input\"\r\n            :class=\"{ 'input-error': usernameError }\"\r\n          />\r\n          <div v-if=\"usernameError\" class=\"error-text\">Ім’я користувача обов’язкове</div>\r\n  \r\n          <input\r\n            v-model=\"email\"\r\n            type=\"text\"\r\n            placeholder=\"Email\"\r\n            class=\"registation-input\"\r\n            :class=\"{ 'input-error': emailError }\"\r\n          />\r\n          <div v-if=\"emailError\" class=\"error-text\">Неправильний формат email</div>\r\n  \r\n          <input\r\n            v-model=\"password\"\r\n            type=\"password\"\r\n            placeholder=\"Пароль\"\r\n            class=\"registation-input\"\r\n            :class=\"{ 'input-error': passwordError }\"\r\n          />\r\n          <div v-if=\"passwordError\" class=\"error-text\">\r\n            Пароль повинен містити мінімум 6 символів, цифри та букви\r\n          </div>\r\n        </div>\r\n        <div class=\"registation-buttons\">\r\n          <button @click=\"register\" class=\"registation-button\">Зареєструватись</button>\r\n          <router-link to=\"/\" custom v-slot=\"{ navigate }\">\r\n            <button @click=\"navigate\" class=\"registation-button\">Скасувати</button>\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import { getAuth, createUserWithEmailAndPassword } from \"firebase/auth\";\r\n  import { getFirestore, doc, setDoc } from \"firebase/firestore\";\r\n  import BackgroundSlider from \"@/components/BackgroundSlider.vue\";\r\n  \r\n  export default {\r\n    components: {\r\n      BackgroundSlider,\r\n    },\r\n    data() {\r\n      return {\r\n        username: '',\r\n        email: '',\r\n        password: '',\r\n        usernameError: false,\r\n        emailError: false,\r\n        passwordError: false,\r\n      };\r\n    },\r\n    methods: {\r\n      validateEmail(email) {\r\n        const regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,6}$/;\r\n        return regex.test(email);\r\n      },\r\n      validatePassword(password) {\r\n        const regex = /^(?=.*[a-zA-Z])(?=.*\\d).{6,}$/;\r\n        return regex.test(password);\r\n      },\r\n      async register() {\r\n        this.usernameError = !this.username.trim();\r\n        this.emailError = !this.validateEmail(this.email);\r\n        this.passwordError = !this.validatePassword(this.password);\r\n  \r\n        if (this.usernameError || this.emailError || this.passwordError) {\r\n          return;\r\n        }\r\n  \r\n        const auth = getAuth();\r\n        try {\r\n          const userCredential = await createUserWithEmailAndPassword(auth, this.email, this.password);\r\n          const user = userCredential.user;\r\n  \r\n          const db = getFirestore();\r\n          const userDocRef = doc(db, \"users\", user.uid);\r\n  \r\n          await setDoc(userDocRef, {\r\n            email: this.email,\r\n            username: this.username,\r\n            role: \"user\",\r\n            profilePicture: \"https://firebasestorage.googleapis.com/v0/b/kursova-5374b.appspot.com/o/bach%2Fuser.png?alt=media&token=af753285-18bf-417d-a385-d281769201e9\",\r\n            createdAt: new Date(),\r\n            uid: user.uid,\r\n            role: \"user\",\r\n            status: \"active\",\r\n          });\r\n  \r\n          console.log(\"Реєстрація та запис в Firestore успішні!\");\r\n          this.$router.push(\"/home\");\r\n        } catch (error) {\r\n          console.error(\"Помилка реєстрації:\", error.message);\r\n          if (error.code === 'auth/email-already-in-use' || error.code === 'auth/invalid-email') {\r\n            this.emailError = true;\r\n          } else if (error.code === 'auth/weak-password') {\r\n            this.passwordError = true;\r\n          }\r\n        }\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .start {\r\n    height: 100vh;\r\n    overflow: hidden;\r\n    position: relative;\r\n  }\r\n  \r\n  .registation-container {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    z-index: 3;\r\n    max-width: 350px;\r\n    width: 90%;\r\n    padding: 40px 30px;\r\n    border: 2px solid white;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    gap: 50px;\r\n    background-color: rgba(0, 0, 0, 0.4);\r\n  }\r\n  \r\n  .logo-small {\r\n    width: 60px;\r\n  }\r\n  \r\n  .registation-title {\r\n    color: white;\r\n    font-size: 1.2rem;\r\n    font-weight: 400;\r\n    margin: 0;\r\n  }\r\n  \r\n  .registation-inputs {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 20px;\r\n    width: 80%;\r\n  }\r\n  \r\n  .registation-input {\r\n    padding: 10px;\r\n    background: transparent;\r\n    border: none;\r\n    border-bottom: 2px solid white;\r\n    color: white;\r\n    font-size: 1rem;\r\n    outline: none;\r\n  }\r\n  \r\n  .registation-input::placeholder {\r\n    color: white;\r\n    opacity: 0.7;\r\n  }\r\n  \r\n  .registation-buttons {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 20px;\r\n    width: 40%;\r\n  }\r\n  \r\n  .registation-button {\r\n    width: 100%;\r\n    padding: 10px;\r\n    background: transparent;\r\n    color: white;\r\n    border: 2px solid white;\r\n    font-size: 0.8rem;\r\n    cursor: pointer;\r\n  }\r\n  \r\n  .cancel-button {\r\n    width: 40%;\r\n    padding: 10px;\r\n    background: transparent;\r\n    color: white;\r\n    border: 2px solid white;\r\n    font-size: 0.8rem;\r\n    cursor: pointer;\r\n    text-decoration: none;\r\n  }\r\n  \r\n  .registation-input:-webkit-autofill,\r\n  .registation-input:-webkit-autofill:hover,\r\n  .registation-input:-webkit-autofill:focus,\r\n  .registation-input:-webkit-autofill:active {\r\n    -webkit-box-shadow: 0 0 0px 1000px transparent inset !important;\r\n    box-shadow: 0 0 0px 1000px transparent inset !important;\r\n    -webkit-text-fill-color: white !important;\r\n    transition: background-color 5000s ease-in-out 0s;\r\n  }\r\n  \r\n  .input-error {\r\n    border-bottom: 2px solid red;\r\n  }\r\n  \r\n  .error-text {\r\n    color: red;\r\n    font-size: 0.8rem;\r\n    margin-top: 10px;\r\n  }\r\n  </style>\r\n  ","import { render } from \"./Registration.vue?vue&type=template&id=2de1d800&scoped=true\"\nimport script from \"./Registration.vue?vue&type=script&lang=js\"\nexport * from \"./Registration.vue?vue&type=script&lang=js\"\n\nimport \"./Registration.vue?vue&type=style&index=0&id=2de1d800&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2de1d800\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"profile-view\">\r\n    <Navbar />\r\n    <div class=\"profile-content\">\r\n      <div class=\"profile-island\" v-if=\"userData\">\r\n        <div class=\"profile-info\">\r\n          <div class=\"profile-image-wrapper\" @click=\"triggerFileInput\">\r\n            <img\r\n              :src=\"userData.profilePicture\"\r\n              alt=\"Profile\"\r\n              class=\"profile-image\"\r\n            />\r\n            <div class=\"overlay\">\r\n              <span>Змінити фото</span>\r\n            </div>\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              ref=\"fileInput\"\r\n              @change=\"handleFileChange\"\r\n              class=\"hidden-file-input\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"profile-right\">\r\n            <div class=\"profile-det\">\r\n              <div class=\"profile-usr\">\r\n                <p class=\"profile-name\">@{{ userData.username }}</p>\r\n                <p class=\"profile-date\">\r\n                  Профіль створено {{ formatDate(userData.createdAt) }}\r\n                </p>\r\n              </div>\r\n              <div v-if=\"userData.role !== 'moderator'\">\r\n                <div v-if=\"editingDescription\">\r\n                  <textarea\r\n                    v-model=\"newDescription\"\r\n                    class=\"profile-description-textarea\"\r\n                    rows=\"4\"\r\n                    placeholder=\"Редагувати опис...\"\r\n                  ></textarea>\r\n                  <div class=\"buttons-row-e\">\r\n                    <button @click=\"saveDescription\" class=\"br\">\r\n                      Зберегти\r\n                    </button>\r\n                    <button @click=\"cancelEdit\" class=\"br\">Скасувати</button>\r\n                  </div>\r\n                </div>\r\n                <div v-else>\r\n                  <p class=\"profile-description\">\r\n                    {{\r\n                      userData.description || \"Цей користувач ще не додав опис.\"\r\n                    }}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"buttons-row\" v-if=\"!editingDescription\">\r\n              <button\r\n                v-if=\"userData.role !== 'moderator'\"\r\n                @click=\"editDescription\"\r\n                class=\"description-edit br\"\r\n              >\r\n                Редагувати опис\r\n              </button>\r\n              <button @click=\"logout\" class=\"logout br\">Вийти з профілю</button>\r\n              <button @click=\"deleteAccount\" class=\"delete br\">\r\n                Видалити профіль\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div v-if=\"userData.role == 'moderator'\" class=\"blocked-users\">\r\n          <p class=\"blocked-title\">Заблоковані користувачі</p>\r\n          <div class=\"blocked-list-scroll\">\r\n            <div\r\n              v-for=\"blocked in blockedUsers\"\r\n              :key=\"blocked.id\"\r\n              class=\"blocked-card\"\r\n            >\r\n              <img\r\n                :src=\"blocked.profilePicture\"\r\n                alt=\"Blocked Profile\"\r\n                class=\"blocked-image\"\r\n              />\r\n              <div class=\"blocked-info\">\r\n                <p class=\"blocked-name\">@{{ blocked.username }}</p>\r\n                <p class=\"blocked-date\">\r\n                  Профіль заблоковано {{ formatDate(blocked.blockedAt) }}\r\n                </p>\r\n              </div>\r\n              <button class=\"br\" @click=\"unblockUser(blocked.id)\">\r\n                Відновити\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div v-if=\"userData.role == 'moderator'\" class=\"locations-gallery\">\r\n          <p class=\"blocked-title\">Забраковані світлини</p>\r\n          <div class=\"locations-scroll\">\r\n            <div\r\n              v-for=\"location in locations\"\r\n              :key=\"location.id\"\r\n              class=\"location-image-wrapper\"\r\n            >\r\n              <img\r\n                :src=\"location.imageUrl\"\r\n                alt=\"Location\"\r\n                class=\"location-image\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div v-if=\"userData.role !== 'moderator'\" class=\"profile-loc\">\r\n          <div class=\"profile-locations\">\r\n            <p class=\"blocked-title\">Мої світлини</p>\r\n            <div class=\"locations-scroll\">\r\n              <div\r\n                v-for=\"location in userLocations\"\r\n                :key=\"location.id\"\r\n                class=\"location-image-wrapper\"\r\n              >\r\n                <img\r\n                  :src=\"location.imageUrl\"\r\n                  alt=\"Location\"\r\n                  class=\"location-image\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getAuth, onAuthStateChanged, signOut } from \"firebase/auth\";\r\nimport {\r\n  getFirestore,\r\n  doc,\r\n  getDoc,\r\n  updateDoc,\r\n  deleteDoc,\r\n  collection,\r\n  query,\r\n  where,\r\n  getDocs,\r\n  collectionGroup,\r\n} from \"firebase/firestore\";\r\nimport { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\r\nimport Navbar from \"@/components/Navbar.vue\";\r\nimport Footer from \"@/components/Footer.vue\";\r\n\r\nexport default {\r\n  name: \"ProfileView\",\r\n  components: {\r\n    Navbar,\r\n    Footer,\r\n  },\r\n  data() {\r\n    return {\r\n      userData: null,\r\n      editingDescription: false,\r\n      newDescription: \"\",\r\n      blockedUsers: [],\r\n      locations: [],\r\n      userLocations: [],\r\n      userComments: [],\r\n    };\r\n  },\r\n  methods: {\r\n    async fetchUserData(uid) {\r\n      const db = getFirestore();\r\n      const userRef = doc(db, \"users\", uid);\r\n      const userSnap = await getDoc(userRef);\r\n      if (userSnap.exists()) {\r\n        this.userData = { uid, ...userSnap.data() };\r\n        this.userLocations = await this.fetchUserLocations(uid);\r\n\r\n        if (this.userData.role === \"moderator\") {\r\n          this.fetchBlockedUsers();\r\n          this.fetchLocations();\r\n        }\r\n      } else {\r\n        console.error(\"Документ не знайдено!\");\r\n      }\r\n    },\r\n    async fetchBlockedUsers() {\r\n      const db = getFirestore();\r\n      const blockedUsersQuery = query(\r\n        collection(db, \"users\"),\r\n        where(\"status\", \"==\", \"blocked\")\r\n      );\r\n      const blockedUsersSnap = await getDocs(blockedUsersQuery);\r\n      this.blockedUsers = blockedUsersSnap.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      }));\r\n    },\r\n    async fetchLocations() {\r\n      const db = getFirestore();\r\n      const locationsQuery = query(\r\n        collection(db, \"locations\"),\r\n        where(\"status\", \"==\", \"rejected\")\r\n      );\r\n      const locationsSnap = await getDocs(locationsQuery);\r\n      this.locations = locationsSnap.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      }));\r\n    },\r\n    formatDate(date) {\r\n      if (!date) return \"невідомо\";\r\n      const d = date.toDate ? date.toDate() : new Date(date);\r\n      return d.toLocaleDateString(\"uk-UA\");\r\n    },\r\n    editDescription() {\r\n      this.editingDescription = true;\r\n      this.newDescription = this.userData.description || \"\";\r\n    },\r\n    async saveDescription() {\r\n      if (this.newDescription !== this.userData.description) {\r\n        const db = getFirestore();\r\n        const userRef = doc(db, \"users\", this.userData.uid);\r\n        await updateDoc(userRef, {\r\n          description: this.newDescription,\r\n        });\r\n        this.userData.description = this.newDescription;\r\n      }\r\n      this.editingDescription = false;\r\n    },\r\n    cancelEdit() {\r\n      this.editingDescription = false;\r\n      this.newDescription = this.userData.description || \"\";\r\n    },\r\n    logout() {\r\n      const auth = getAuth();\r\n      signOut(auth)\r\n        .then(() => {\r\n          this.$router.push(\"/\");\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Помилка при виході: \", error);\r\n        });\r\n    },\r\n    async deleteAccount() {\r\n      const auth = getAuth();\r\n      const db = getFirestore();\r\n      try {\r\n        await deleteDoc(doc(db, \"users\", this.userData.uid));\r\n        await auth.currentUser.delete();\r\n        this.$router.push(\"/\");\r\n      } catch (error) {\r\n        console.error(\"Помилка при видаленні акаунта: \", error);\r\n      }\r\n    },\r\n    async unblockUser(userId) {\r\n      const db = getFirestore();\r\n      const userRef = doc(db, \"users\", userId);\r\n      await updateDoc(userRef, {\r\n        status: \"active\",\r\n      });\r\n      this.fetchBlockedUsers();\r\n    },\r\n    triggerFileInput() {\r\n      console.log(\"Клік на зображення\");\r\n      this.$refs.fileInput.click();\r\n    },\r\n    handleFileChange(event) {\r\n      const file = event.target.files[0];\r\n      if (file) {\r\n        const storage = getStorage();\r\n        const fileRef = ref(storage, `profile_pictures/${this.userData.uid}`);\r\n\r\n        // Завантажуємо файл у Firebase Storage\r\n        uploadBytes(fileRef, file).then((snapshot) => {\r\n          // Отримуємо URL завантаженого фото\r\n          getDownloadURL(snapshot.ref).then((downloadURL) => {\r\n            this.updateProfilePicture(downloadURL);\r\n          });\r\n        });\r\n      }\r\n    },\r\n\r\n    async updateProfilePicture(downloadURL) {\r\n      const db = getFirestore();\r\n      const userRef = doc(db, \"users\", this.userData.uid);\r\n\r\n      // Оновлюємо URL фото в Firestore\r\n      await updateDoc(userRef, {\r\n        profilePicture: downloadURL,\r\n      });\r\n\r\n      // Оновлюємо локальне значення для профілю\r\n      this.userData.profilePicture = downloadURL;\r\n    },\r\n    async fetchUserLocations(uid) {\r\n      const db = getFirestore();\r\n      const locationsQuery = query(\r\n        collection(db, \"locations\"),\r\n        where(\"userUid\", \"==\", uid)\r\n      );\r\n\r\n      const locationsSnap = await getDocs(locationsQuery);\r\n      return locationsSnap.docs.map((doc) => ({ id: doc.id, ...doc.data() }));\r\n    },\r\n  },\r\n  mounted() {\r\n    const auth = getAuth();\r\n    onAuthStateChanged(auth, (user) => {\r\n      if (user) {\r\n        this.fetchUserData(user.uid);\r\n      } else {\r\n        this.$router.push(\"/\");\r\n      }\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.profile-content {\r\n  padding: 40px;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.profile-island {\r\n  background-color: black;\r\n  padding: 60px 100px;\r\n  width: 1000px;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.profile-info {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  gap: 20px;\r\n}\r\n\r\n.profile-image {\r\n  width: 200px;\r\n  height: 200px;\r\n  object-fit: cover;\r\n  border: 2px solid white;\r\n}\r\n\r\n.profile-right {\r\n  flex: 1;\r\n  max-width: 780px;\r\n}\r\n\r\n.profile-det {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  padding: 10px 35px;\r\n  text-align: left;\r\n  border: 2px solid white;\r\n}\r\n\r\n.profile-usr {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 5px;\r\n  width: 100%;\r\n}\r\n\r\n.profile-name {\r\n  font-size: 1.9rem;\r\n  font-weight: 400;\r\n  color: white;\r\n  margin: 0;\r\n}\r\n\r\n.profile-date {\r\n  font-size: 0.8rem;\r\n  color: #949494;\r\n}\r\n\r\n.profile-description {\r\n  font-size: 0.9rem;\r\n  color: white;\r\n  margin-top: 15px;\r\n  font-weight: 300;\r\n  line-height: 1.5;\r\n}\r\n\r\n.profile-description-textarea {\r\n  width: 100%;\r\n  padding: 10px;\r\n  font-size: 0.9rem;\r\n  margin-top: 15px;\r\n  border-bottom: 2px solid white;\r\n  border-top: none;\r\n  border-left: none;\r\n  border-right: none;\r\n  background-color: black;\r\n  color: white;\r\n  font-family: \"Montserrat\", sans-serif;\r\n}\r\n\r\n.buttons-row {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 20px;\r\n  margin-top: 20px;\r\n}\r\n\r\n.buttons-row-e {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  gap: 20px;\r\n  margin-top: 20px;\r\n}\r\n\r\n.br {\r\n  background-color: black;\r\n  color: white;\r\n  padding: 7px 8px;\r\n  text-decoration: none;\r\n  font-size: 0.8rem;\r\n  border: 2px solid white;\r\n  cursor: pointer;\r\n}\r\n.blocked-users {\r\n  margin-top: 30px;\r\n  border: 2px solid white;\r\n  max-height: 300px;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.blocked-title {\r\n  color: white;\r\n  font-size: 1rem;\r\n  text-align: center;\r\n  padding: 10px;\r\n  flex-shrink: 0;\r\n  background-color: black;\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 1;\r\n}\r\n\r\n.blocked-list-scroll {\r\n  overflow-y: auto;\r\n  flex-grow: 1;\r\n  padding: 10px 0;\r\n}\r\n\r\n.blocked-card {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20px;\r\n  padding: 10px;\r\n  margin-bottom: 20px;\r\n  padding: 0px 50px;\r\n}\r\n.blocked-image {\r\n  width: 70px;\r\n  height: 70px;\r\n  object-fit: cover;\r\n  border-radius: 50%;\r\n}\r\n.blocked-info {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n.blocked-name {\r\n  font-size: 1rem;\r\n  color: white;\r\n  margin: 0;\r\n}\r\n.blocked-date {\r\n  font-size: 0.8rem;\r\n  color: #949494;\r\n  margin: 7px 0 0 0;\r\n}\r\n.locations-gallery {\r\n  margin-top: 30px;\r\n  border: 2px solid white;\r\n  max-height: 345px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n\r\n.locations-scroll {\r\n  overflow-y: auto;\r\n  flex-grow: 1;\r\n  padding: 0px;\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 10px;\r\n  justify-content: center;\r\n  padding-left: 10px;\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.location-image-wrapper {\r\n  width: 265px;\r\n  height: 265px;\r\n  aspect-ratio: 1/1;\r\n  overflow: hidden;\r\n  width: 300px;\r\n}\r\n\r\n.location-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  display: block;\r\n}\r\n.profile-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  display: block;\r\n  border: none; /* прибрати */\r\n}\r\n\r\n.profile-image-wrapper {\r\n  border: 2px solid white;\r\n  overflow: hidden; /* обрізає краї зображення + overlay */\r\n  position: relative;\r\n  width: 200px;\r\n  height: 200px;\r\n}\r\n\r\n.overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  color: white;\r\n  font-weight: bold;\r\n  font-size: 1rem;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  opacity: 0;\r\n  transition: opacity 0.3s ease;\r\n}\r\n\r\n.profile-image-wrapper:hover .overlay {\r\n  opacity: 1;\r\n}\r\n.hidden-file-input {\r\n  position: absolute;\r\n  width: 1px;\r\n  height: 1px;\r\n  opacity: 0;\r\n}\r\n\r\n.profile-loc {\r\n  margin-top: 30px;\r\n  border: 2px solid white;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.profile-locations {\r\n  max-height: 350px;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.locations-scroll {\r\n  overflow-y: auto;\r\n  flex-grow: 1;\r\n  padding: 0px;\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 10px;\r\n  justify-content: center;\r\n  padding-left: 20px;\r\n  \r\n  padding-bottom: 10px;\r\n}\r\n</style>\r\n\r\n","import { render } from \"./Profile.vue?vue&type=template&id=0b954b4d&scoped=true\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\n\nimport \"./Profile.vue?vue&type=style&index=0&id=0b954b4d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0b954b4d\"]])\n\nexport default __exports__","<template>\r\n  <Navbar />\r\n  <div class=\"create\">\r\n    <div class=\"island-create\">\r\n      <p class=\"location-title\">Створення локації</p>\r\n      <div class=\"b-c\">\r\n        <div class=\"l-c\">\r\n          <p class=\"p-t\">Додайте локацію</p>\r\n          <input\r\n            v-model=\"searchQuery\"\r\n            @input=\"fetchSuggestions\"\r\n            @keydown.down=\"highlightSuggestion(1)\"\r\n            @keydown.up=\"highlightSuggestion(-1)\"\r\n            @keydown.enter=\"selectHighlighted\"\r\n            type=\"text\"\r\n            placeholder=\"Введіть адресу\"\r\n            class=\"address-input\"\r\n          />\r\n          <ul v-if=\"suggestions.length\" class=\"suggestions\">\r\n            <li\r\n              v-for=\"(suggestion, index) in suggestions\"\r\n              :key=\"index\"\r\n              :class=\"{ active: index === highlighted }\"\r\n              @click=\"selectSuggestion(suggestion)\"\r\n            >\r\n              {{ suggestion.place_name }}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div ref=\"mapContainer\" class=\"location-map\"></div>\r\n      </div>\r\n      <div class=\"b-c\">\r\n        <div class=\"l-c\">\r\n          <p class=\"p-t\">Додайте зображення</p>\r\n          <button @click=\"uploadImage\" class=\"c-button\">Додати фото</button>\r\n          <button @click=\"removeImage\" class=\"c-button\">Видалити фото</button>\r\n        </div>\r\n        <div\r\n          v-if=\"imageUrl\"\r\n          class=\"image-preview\"\r\n          :style=\"{ backgroundImage: `url(${imageUrl})` }\"\r\n        ></div>\r\n        <div\r\n          v-else\r\n          class=\"image-upload-area\"\r\n          @drop.prevent=\"onDrop\"\r\n          @dragover.prevent\r\n          @dragstart=\"startDrag\"\r\n          @dragend=\"endDrag\"\r\n          :style=\"dragStyle\"\r\n          draggable=\"true\"\r\n        >\r\n          <span>Перетягніть фото сюди</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"b-c-det\">\r\n        <p class=\"p-t\">Створіть опис</p>\r\n        <input\r\n          v-model=\"locationName\"\r\n          type=\"text\"\r\n          placeholder=\"Введіть назву\"\r\n          class=\"det-inp\"\r\n          required\r\n        />\r\n        <input\r\n          v-model=\"locationDescription\"\r\n          type=\"text\"\r\n          placeholder=\"Введіть опис\"\r\n          class=\"det-inp\"\r\n        />\r\n      </div>\r\n      <div class=\"location-buttons\">\r\n        <button @click=\"saveLocation\" class=\"c-button b\">Зберегти</button>\r\n        <button @click=\"cancel\" class=\"c-button b\">Скасувати</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <Footer />\r\n</template>\r\n\r\n<script>\r\nimport mapboxgl from \"mapbox-gl\";\r\nimport Navbar from \"@/components/Navbar.vue\";\r\nimport Footer from \"@/components/Footer.vue\";\r\nimport {\r\n  getFirestore,\r\n  collection,\r\n  addDoc,\r\n  Timestamp,\r\n  doc,\r\n  getDoc,\r\n} from \"firebase/firestore\";\r\nimport { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\r\nimport { getAuth } from \"firebase/auth\";\r\n\r\nmapboxgl.accessToken =\r\n  \"pk.eyJ1IjoibHZxMWljZW1hbiIsImEiOiJjbHU4ZmtuZ2MwYzRvMm9yeGQzZnBycjBkIn0.u4QC3601L2OcFCzw8kzvmw\";\r\n\r\nexport default {\r\n  name: \"CreateLocation\",\r\n  components: {\r\n    Navbar,\r\n    Footer,\r\n  },\r\n  data() {\r\n    return {\r\n      map: null,\r\n      marker: null,\r\n      searchQuery: \"\",\r\n      suggestions: [],\r\n      highlighted: -1,\r\n      imageUrl: \"\",\r\n      locationName: \"\",\r\n      locationDescription: \"\",\r\n      isDragging: false,\r\n      dragStyle: {},\r\n      locationCoords: null,\r\n      imageFile: null,\r\n    };\r\n  },\r\n  methods: {\r\n    async fetchSuggestions() {\r\n      if (!this.searchQuery) {\r\n        this.suggestions = [];\r\n        return;\r\n      }\r\n\r\n      const response = await fetch(\r\n        `https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(\r\n          this.searchQuery\r\n        )}.json?access_token=${mapboxgl.accessToken}&autocomplete=true&limit=5`\r\n      );\r\n      const data = await response.json();\r\n      this.suggestions = data.features;\r\n    },\r\n    selectSuggestion(suggestion) {\r\n      this.searchQuery = suggestion.place_name;\r\n      this.suggestions = [];\r\n      const [lng, lat] = suggestion.center;\r\n      this.setMarker(lng, lat);\r\n    },\r\n    highlightSuggestion(direction) {\r\n      const max = this.suggestions.length - 1;\r\n      if (max < 0) return;\r\n\r\n      this.highlighted += direction;\r\n      if (this.highlighted < 0) this.highlighted = max;\r\n      if (this.highlighted > max) this.highlighted = 0;\r\n    },\r\n    selectHighlighted() {\r\n      if (this.highlighted >= 0 && this.highlighted < this.suggestions.length) {\r\n        this.selectSuggestion(this.suggestions[this.highlighted]);\r\n      }\r\n    },\r\n    setMarker(lng, lat) {\r\n      if (!this.map) return;\r\n      this.map.flyTo({ center: [lng, lat], zoom: 14 });\r\n\r\n      if (this.marker) {\r\n        this.marker.setLngLat([lng, lat]);\r\n      } else {\r\n        this.marker = new mapboxgl.Marker({ color: \"red\", draggable: true })\r\n          .setLngLat([lng, lat])\r\n          .addTo(this.map);\r\n\r\n        this.marker.on(\"dragend\", this.reverseGeocodeMarker);\r\n      }\r\n\r\n      this.reverseGeocodeMarker();\r\n      this.locationCoords = { lng, lat };\r\n    },\r\n    async reverseGeocodeMarker() {\r\n      const lngLat = this.marker.getLngLat();\r\n      const response = await fetch(\r\n        `https://api.mapbox.com/geocoding/v5/mapbox.places/${lngLat.lng},${lngLat.lat}.json?access_token=${mapboxgl.accessToken}`\r\n      );\r\n      const data = await response.json();\r\n      if (data.features[0]) {\r\n        this.searchQuery = data.features[0].place_name;\r\n      }\r\n    },\r\n    uploadImage() {\r\n      const input = document.createElement(\"input\");\r\n      input.type = \"file\";\r\n      input.accept = \"image/*\";\r\n      input.onchange = (event) => {\r\n        this.imageFile = event.target.files[0];\r\n        if (this.imageFile) {\r\n          const reader = new FileReader();\r\n          reader.onload = (e) => {\r\n            this.imageUrl = e.target.result;\r\n          };\r\n          reader.readAsDataURL(this.imageFile);\r\n        }\r\n      };\r\n      input.click();\r\n    },\r\n    removeImage() {\r\n      this.imageFile = null;\r\n      this.imageUrl = \"\";\r\n    },\r\n    startDrag() {\r\n      this.isDragging = true;\r\n      this.dragStyle = {\r\n        cursor: \"grabbing\",\r\n        opacity: 0.7,\r\n      };\r\n    },\r\n    endDrag() {\r\n      this.isDragging = false;\r\n      this.dragStyle = {};\r\n    },\r\n    async saveLocation() {\r\n      if (\r\n        !this.locationName ||\r\n        !this.searchQuery ||\r\n        !this.imageFile ||\r\n        !this.locationCoords\r\n      ) {\r\n        alert(\"Будь ласка, заповніть всі обов'язкові поля!\");\r\n        return;\r\n      }\r\n\r\n      const storage = getStorage();\r\n      const storageRef = ref(\r\n        storage,\r\n        `locations/${Date.now()}_${this.imageFile.name}`\r\n      );\r\n\r\n      try {\r\n        const snapshot = await uploadBytes(storageRef, this.imageFile);\r\n        const imageUrl = await getDownloadURL(snapshot.ref);\r\n\r\n        const db = getFirestore();\r\n        const auth = getAuth();\r\n        const user = auth.currentUser;\r\n\r\n        let username = \"Без імені\";\r\n        const userDocRef = doc(db, \"users\", user.uid);\r\n        const userDocSnap = await getDoc(userDocRef);\r\n\r\n        if (userDocSnap.exists()) {\r\n          username = userDocSnap.data().username || username;\r\n        }\r\n\r\n\r\n        const locationRef = collection(db, \"locations\");\r\n        await addDoc(locationRef, {\r\n          name: this.locationName,\r\n          description: this.locationDescription,\r\n          address: this.searchQuery,\r\n          coordinates: this.locationCoords,\r\n          userUid: user.uid,\r\n          username: username,\r\n          imageUrl: imageUrl,\r\n          status: \"pending\",\r\n          createdAt: Timestamp.fromDate(new Date()),\r\n        });\r\n\r\n        alert(\"Локацію успішно додано!\");\r\n        this.clearForm();\r\n      } catch (error) {\r\n        console.error(\"Error saving location:\", error);\r\n        alert(\"Сталася помилка при збереженні локації.\");\r\n      }\r\n    },\r\n    clearForm() {\r\n      this.searchQuery = \"\";\r\n      this.locationName = \"\";\r\n      this.locationDescription = \"\";\r\n      this.imageFile = null;\r\n      this.imageUrl = \"\";\r\n      this.locationCoords = null;\r\n    },\r\n    cancel() {\r\n      this.$router.push(\"/home\");\r\n    },\r\n  },\r\n  mounted() {\r\n    this.map = new mapboxgl.Map({\r\n      container: this.$refs.mapContainer,\r\n      center: [24.0315, 49.8397],\r\n      zoom: 10,\r\n      style: \"mapbox://styles/lvq1iceman/cm9ootxch009b01qs40wa1c8q\",\r\n    });\r\n\r\n    this.map.on(\"load\", () => {\r\n      this.map.resize();\r\n    });\r\n\r\n    this.map.on(\"click\", (e) => {\r\n      this.setMarker(e.lngLat.lng, e.lngLat.lat);\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.create {\r\n  padding: 40px;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.island-create {\r\n  background-color: black;\r\n  padding: 30px 100px 80px 100px;\r\n  width: 1000px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 20px;\r\n}\r\n\r\n.location-title {\r\n  font-size: 1.3rem;\r\n  color: white;\r\n  margin: 0;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.b-c {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  padding: 20px 20px;\r\n  gap: 20px;\r\n  width: 100%;\r\n  border: 2px solid white;\r\n  box-sizing: border-box;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.l-c {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 20px;\r\n  max-width: 300px;\r\n  flex: 1;\r\n}\r\n\r\n.p-t {\r\n  font-size: 1.1rem;\r\n  color: white;\r\n}\r\n\r\n.address-input {\r\n  width: 270px;\r\n  padding: 10px;\r\n  background: transparent;\r\n  border: none;\r\n  border-bottom: 2px solid white;\r\n  color: white;\r\n  font-size: 1rem;\r\n  outline: none;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.location-map {\r\n  width: 100%;\r\n  max-width: 650px;\r\n  height: 350px;\r\n  border: 2px solid white;\r\n  position: relative;\r\n  box-sizing: border-box;\r\n  overflow: hidden;\r\n}\r\n\r\n.suggestions {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n  width: 100%;\r\n  background: black;\r\n  border: 1px solid white;\r\n  max-height: 150px;\r\n  overflow-y: auto;\r\n  color: white;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.suggestions li {\r\n  padding: 10px;\r\n  cursor: pointer;\r\n}\r\n\r\n.suggestions li.active {\r\n  background-color: white;\r\n  color: black;\r\n}\r\n\r\n.c-button {\r\n  background-color: black;\r\n  color: white;\r\n  padding: 7px 8px;\r\n  text-decoration: none;\r\n  font-size: 0.9rem;\r\n  border: 2px solid white;\r\n  cursor: pointer;\r\n  width: 150px;\r\n}\r\n\r\n.image-upload-area {\r\n  width: 650px;\r\n  height: 300px;\r\n  background-color: gray;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: white;\r\n  text-align: center;\r\n  border: 2px solid white;\r\n  cursor: grab;\r\n}\r\n\r\n.image-preview {\r\n  width: 650px;\r\n  height: 300px;\r\n  background-size: cover;\r\n  background-position: center;\r\n  border: 2px solid white;\r\n}\r\n.b-c-det {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  padding: 20px 20px;\r\n  gap: 20px;\r\n  width: 100%;\r\n  border: 2px solid white;\r\n  box-sizing: border-box;\r\n  flex-wrap: wrap;\r\n  text-align: center;\r\n}\r\n.det-inp {\r\n  width: 100%;\r\n  padding: 10px;\r\n  background: transparent;\r\n  border: none;\r\n  border-bottom: 2px solid white;\r\n  color: white;\r\n  font-size: 1rem;\r\n  outline: none;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.location-buttons {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  gap: 20px;\r\n  margin-top: 20px;\r\n  width: 100%;\r\n}\r\n\r\n.location-buttons .c-button {\r\n  width: 100%;\r\n  max-width: 150px;\r\n  font-size: 1rem;\r\n  height: 40px;\r\n}\r\n</style>\r\n","import { render } from \"./CreateLocation.vue?vue&type=template&id=a6f2de06&scoped=true\"\nimport script from \"./CreateLocation.vue?vue&type=script&lang=js\"\nexport * from \"./CreateLocation.vue?vue&type=script&lang=js\"\n\nimport \"./CreateLocation.vue?vue&type=style&index=0&id=a6f2de06&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a6f2de06\"]])\n\nexport default __exports__","<template>\r\n  <Navbar />\r\n  <div class=\"approve-container\">\r\n    <p class=\"approve-title\">Заявки на публікацію</p>\r\n\r\n    <div v-for=\"request in requests\" :key=\"request.id\" class=\"approve-card\">\r\n      <p class=\"approve-card-title\">\r\n        Користувач @{{ request.username }} бажає опублікувати:\r\n      </p>\r\n      <div class=\"approve-card-header\">\r\n        <div class=\"approve-card-header-l\">\r\n          <img\r\n            class=\"profile-photo\"\r\n            :src=\"request.profilePicture\"\r\n            alt=\"profile\"\r\n          />\r\n\r\n          <button class=\"approve\" @click=\"approveRequest(request.id)\">\r\n            Схвалити\r\n          </button>\r\n          <button class=\"reject\" @click=\"rejectRequest(request.id)\">\r\n            Відхилити\r\n          </button>\r\n        </div>\r\n        <img\r\n          class=\"approve-card-header-r\"\r\n          :src=\"request.imageUrl\"\r\n          alt=\"location\"\r\n        />\r\n      </div>\r\n      <div class=\"approve-card-footer\">\r\n        <p class=\"approve-card-street\">{{ request.address }}</p>\r\n        <hr />\r\n        <p class=\"approve-card-description\">{{ request.description }}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <Footer />\r\n</template>\r\n\r\n<script>\r\nimport Navbar from \"@/components/Navbar.vue\";\r\nimport Footer from \"@/components/Footer.vue\";\r\nimport {\r\n  getFirestore,\r\n  collection,\r\n  getDocs,\r\n  updateDoc,\r\n  doc,\r\n  query,\r\n  where,\r\n  getDoc,\r\n} from \"firebase/firestore\";\r\n\r\nexport default {\r\n  name: \"Approve\",\r\n  components: { Navbar, Footer },\r\n  data() {\r\n    return {\r\n      requests: [],\r\n    };\r\n  },\r\n  async mounted() {\r\n    const db = getFirestore();\r\n    const q = query(\r\n      collection(db, \"locations\"),\r\n      where(\"status\", \"==\", \"pending\")\r\n    );\r\n    const querySnapshot = await getDocs(q);\r\n\r\n    const requestsWithPhotos = await Promise.all(\r\n      querySnapshot.docs.map(async (docSnap) => {\r\n        const data = docSnap.data();\r\n        const userUid = data.userUid;\r\n        let profilePicture = \"/default-avatar.png\"; // дефолтна аватарка\r\n\r\n        if (userUid) {\r\n          const userRef = doc(db, \"users\", userUid);\r\n          const userSnap = await getDoc(userRef);\r\n\r\n          if (userSnap.exists()) {\r\n            profilePicture = userSnap.data().profilePicture || profilePicture;\r\n          }\r\n        }\r\n\r\n        return {\r\n          id: docSnap.id,\r\n          ...data,\r\n          profilePicture,\r\n        };\r\n      })\r\n    );\r\n\r\n    this.requests = requestsWithPhotos;\r\n  },\r\n  methods: {\r\n    async getUserPhotoByUsername(username) {\r\n      const db = getFirestore();\r\n      const usersRef = collection(db, \"users\");\r\n      const q = query(usersRef, where(\"username\", \"==\", username));\r\n      const querySnapshot = await getDocs(q);\r\n\r\n      if (!querySnapshot.empty) {\r\n        const userDoc = querySnapshot.docs[0];\r\n        return userDoc.data().photoURL || null;\r\n      }\r\n\r\n      return null;\r\n    },\r\n\r\n    async approveRequest(id) {\r\n      const db = getFirestore();\r\n      await updateDoc(doc(db, \"locations\", id), {\r\n        status: \"approved\",\r\n      });\r\n      this.requests = this.requests.filter((req) => req.id !== id);\r\n    },\r\n\r\n    async rejectRequest(id) {\r\n      const db = getFirestore();\r\n      await updateDoc(doc(db, \"locations\", id), {\r\n        status: \"rejected\",\r\n      });\r\n      this.requests = this.requests.filter((req) => req.id !== id);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.approve-container {\r\n  height: 100vh;\r\n  width: 900px;\r\n  background-color: rgba(0, 0, 0, 0.2);\r\n  margin: 0 auto;\r\n  align-items: center;\r\n  display: flex;\r\n  justify-content: start;\r\n  flex-direction: column;\r\n}\r\n\r\n.approve-title {\r\n  font-size: 1.3rem;\r\n  margin: 20px 0;\r\n}\r\n\r\n.approve-card {\r\n  background: black;\r\n  padding: 20px;\r\n  margin-bottom: 20px;\r\n  width: 700px;\r\n  padding: 0 50px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  text-align: center;\r\n}\r\n\r\n.approve-card-header {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  margin-top: 10px;\r\n}\r\n\r\n.approve-card-header-l {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.profile-photo {\r\n  width: 150px;\r\n  height: 150px;\r\n  object-fit: cover;\r\n  border: 2px solid white;\r\n}\r\n\r\n.approve {\r\n  background-color: black;\r\n  color: white;\r\n  border: 2px solid white;\r\n  border-radius: 0;\r\n  padding: 12px 12px;\r\n  cursor: pointer;\r\n  width: 154px;\r\n}\r\n.reject {\r\n  background-color: black;\r\n  color: white;\r\n  border: 2px solid white;\r\n  border-radius: 0;\r\n  padding: 12px 12px;\r\n  cursor: pointer;\r\n  width: 154px;\r\n}\r\n\r\n.approve-card-header-r {\r\n  width: 530px;\r\n  height: 262px;\r\n  object-fit: cover;\r\n}\r\n\r\n.approve-card-footer {\r\n  margin-top: 0px;\r\n}\r\n\r\n.approve-card-street {\r\n  text-align: left;\r\n  margin-bottom: 2px;\r\n  font-size: 0.8rem;\r\n}\r\n\r\nhr {\r\n  margin: 0;\r\n}\r\n.approve-card-description {\r\n  color: white;\r\n  border: 2px solid white;\r\n  padding: 10px 20px;\r\n  max-height: 45px;\r\n  overflow-y: auto;\r\n  white-space: pre-wrap; /* або normal */\r\n}\r\n</style>\r\n","import { render } from \"./Approve.vue?vue&type=template&id=9347bd20&scoped=true\"\nimport script from \"./Approve.vue?vue&type=script&lang=js\"\nexport * from \"./Approve.vue?vue&type=script&lang=js\"\n\nimport \"./Approve.vue?vue&type=style&index=0&id=9347bd20&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9347bd20\"]])\n\nexport default __exports__","<template>\r\n  <Navbar />\r\n  <div class=\"publications\">\r\n    <p class=\"publication-title\">Мої публікації</p>\r\n    <div class=\"publication-grid\">\r\n      <div\r\n        class=\"publication-card\"\r\n        v-for=\"publication in publications\"\r\n        :key=\"publication.id\"\r\n        @mouseenter=\"publication.showActions = true\"\r\n        @mouseleave=\"publication.showActions = false\"\r\n      >\r\n        <img\r\n          :src=\"publication.imageUrl\"\r\n          alt=\"Publication Image\"\r\n          class=\"publication-image\"\r\n        />\r\n        <div\r\n          class=\"action-container\"\r\n          :class=\"{ 'show-actions': publication.showActions }\"\r\n        >\r\n          <p class=\"publication-address-mobile\">{{ publication.address }}</p>\r\n          <router-link :to=\"'/edit-location/' + publication.id\"\r\n            class=\"action\">Редагувати</router-link\r\n          ><br />\r\n          <button class=\"action\" @click=\"deletePublication(publication.id)\">\r\n            Видалити\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <Footer />\r\n</template>\r\n\r\n<script>\r\nimport Navbar from \"@/components/Navbar.vue\";\r\nimport Footer from \"@/components/Footer.vue\";\r\nimport {\r\n  getFirestore,\r\n  collection,\r\n  getDocs,\r\n  query,\r\n  where,\r\n  deleteDoc,\r\n  doc,\r\n} from \"firebase/firestore\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { ref, onMounted, onBeforeUnmount } from \"vue\";\r\n\r\nexport default {\r\n  name: \"MyPublications\",\r\n  components: { Navbar, Footer },\r\n  data() {\r\n    return {\r\n      publications: [],\r\n      userUid: \"\",\r\n      isMounted: false,\r\n    };\r\n  },\r\n  methods: {\r\n    async deletePublication(id) {\r\n      const db = getFirestore();\r\n      const publicationRef = doc(db, \"locations\", id);\r\n      await deleteDoc(publicationRef);\r\n      this.publications = this.publications.filter((pub) => pub.id !== id);\r\n    },\r\n    editPublication(id) {},\r\n  },\r\n  async mounted() {\r\n    const auth = getAuth();\r\n    const db = getFirestore();\r\n\r\n    this.userUid = auth.currentUser.uid;\r\n    this.isMounted = true;\r\n\r\n    const q = query(\r\n      collection(db, \"locations\"),\r\n      where(\"userUid\", \"==\", this.userUid),\r\n      where(\"status\", \"==\", \"approved\")\r\n    );\r\n\r\n    const querySnapshot = await getDocs(q);\r\n\r\n    if (this.isMounted) {\r\n      this.publications = querySnapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n        showActions: false,\r\n      }));\r\n    }\r\n  },\r\n  onBeforeUnmount() {\r\n    this.isMounted = false;\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.publications {\r\n  height: 100vh;\r\n  width: 900px;\r\n  background-color: rgba(0, 0, 0, 0.2);\r\n  margin: 0 auto;\r\n  align-items: center;\r\n  display: flex;\r\n  justify-content: start;\r\n  flex-direction: column;\r\n  padding-bottom: 40px;\r\n}\r\n\r\n.publication-title {\r\n  font-size: 1.5rem;\r\n  margin: 20px 0;\r\n}\r\n\r\n.publication-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 20px;\r\n}\r\n\r\n.publication-card {\r\n  background-color: black;\r\n  padding: 7px;\r\n  width: 255px;\r\n  position: relative;\r\n  overflow: hidden;\r\n  height: 100%;\r\n}\r\n\r\n.publication-image {\r\n  width: 250px;\r\n  height: 150px;\r\n  object-fit: cover;\r\n  border: 2px solid white;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.publication-details {\r\n  margin-top: 0;\r\n}\r\n\r\n.publication-address {\r\n  font-size: 0.8rem;\r\n  margin: 0;\r\n  padding-bottom: 7px;\r\n}\r\n\r\n.action-container {\r\n  position: absolute;\r\n  bottom: -60px;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: black;\r\n  padding: 10px;\r\n    \r\n  transition: bottom 0.3s ease;\r\n  overflow: hidden;\r\n}\r\n\r\n.show-actions {\r\n  bottom: 0;\r\n}\r\n\r\n.publication-address-mobile {\r\n  font-size: 0.8rem;\r\n  color: white;\r\n  margin: 0;\r\n  padding-bottom: 7px;\r\n}\r\n\r\n.action {\r\n  color: white;\r\n  font-size: 0.8rem;\r\n  cursor: pointer;\r\n  background-color: transparent;\r\n  border: none;\r\n  margin: 0;\r\n  padding: 7px 0;\r\n  text-decoration: none;\r\n}\r\n</style>\r\n","import { render } from \"./MyPublications.vue?vue&type=template&id=6d7e6fef&scoped=true\"\nimport script from \"./MyPublications.vue?vue&type=script&lang=js\"\nexport * from \"./MyPublications.vue?vue&type=script&lang=js\"\n\nimport \"./MyPublications.vue?vue&type=style&index=0&id=6d7e6fef&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6d7e6fef\"]])\n\nexport default __exports__","<template>\r\n  <Navbar />\r\n  <div class=\"create\">\r\n    <div class=\"island-create\">\r\n      <p class=\"location-title\">Редагування локації</p>\r\n      <div class=\"b-c\">\r\n        <div class=\"l-c\">\r\n          <p class=\"p-t\">Додайте локацію</p>\r\n          <input\r\n            v-model=\"searchQuery\"\r\n            @input=\"fetchSuggestions\"\r\n            @keydown.down=\"highlightSuggestion(1)\"\r\n            @keydown.up=\"highlightSuggestion(-1)\"\r\n            @keydown.enter=\"selectHighlighted\"\r\n            type=\"text\"\r\n            placeholder=\"Введіть адресу\"\r\n            class=\"address-input\"\r\n          />\r\n          <ul v-if=\"suggestions.length\" class=\"suggestions\">\r\n            <li\r\n              v-for=\"(suggestion, index) in suggestions\"\r\n              :key=\"index\"\r\n              :class=\"{ active: index === highlighted }\"\r\n              @click=\"selectSuggestion(suggestion)\"\r\n            >\r\n              {{ suggestion.place_name }}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div ref=\"mapContainer\" class=\"location-map\"></div>\r\n      </div>\r\n      <div class=\"b-c\">\r\n        <div class=\"l-c\">\r\n          <p class=\"p-t\">Додайте зображення</p>\r\n          <button @click=\"uploadImage\" class=\"c-button\">Змінити фото</button>\r\n          <button @click=\"removeImage\" class=\"c-button\">Видалити фото</button>\r\n        </div>\r\n        <div\r\n          v-if=\"imageUrl\"\r\n          class=\"image-preview\"\r\n          :style=\"{ backgroundImage: `url(${imageUrl})` }\"\r\n        ></div>\r\n        <div\r\n          v-else\r\n          class=\"image-upload-area\"\r\n          @drop.prevent=\"onDrop\"\r\n          @dragover.prevent\r\n          @dragstart=\"startDrag\"\r\n          @dragend=\"endDrag\"\r\n          :style=\"dragStyle\"\r\n          draggable=\"true\"\r\n        >\r\n          <span>Перетягніть фото сюди</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"b-c-det\">\r\n        <p class=\"p-t\">Створіть опис</p>\r\n        <input\r\n          v-model=\"locationName\"\r\n          type=\"text\"\r\n          placeholder=\"Введіть назву\"\r\n          class=\"det-inp\"\r\n          required\r\n        />\r\n        <input\r\n          v-model=\"locationDescription\"\r\n          type=\"text\"\r\n          placeholder=\"Введіть опис\"\r\n          class=\"det-inp\"\r\n        />\r\n      </div>\r\n      <div class=\"location-buttons\">\r\n        <button @click=\"saveLocation\" class=\"c-button b\">Зберегти</button>\r\n        <button @click=\"cancel\" class=\"c-button b\">Скасувати</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <Footer />\r\n</template>\r\n\r\n<script>\r\nimport mapboxgl from \"mapbox-gl\";\r\nimport Navbar from \"@/components/Navbar.vue\";\r\nimport Footer from \"@/components/Footer.vue\";\r\nimport {\r\n  getFirestore,\r\n  doc,\r\n  getDoc,\r\n  updateDoc,\r\n  Timestamp,\r\n} from \"firebase/firestore\";\r\nimport { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\r\nimport { getAuth } from \"firebase/auth\";\r\n\r\nmapboxgl.accessToken =\r\n  \"pk.eyJ1IjoibHZxMWljZW1hbiIsImEiOiJjbHU4ZmtuZ2MwYzRvMm9yeGQzZnBycjBkIn0.u4QC3601L2OcFCzw8kzvmw\";\r\n\r\nexport default {\r\n  name: \"EditLocation\",\r\n  components: {\r\n    Navbar,\r\n    Footer,\r\n  },\r\n  data() {\r\n    return {\r\n      map: null,\r\n      marker: null,\r\n      searchQuery: \"\",\r\n      suggestions: [],\r\n      highlighted: -1,\r\n      imageUrl: \"\",\r\n      locationName: \"\",\r\n      locationDescription: \"\",\r\n      isDragging: false,\r\n      dragStyle: {},\r\n      locationCoords: null,\r\n      imageFile: null,\r\n      locationId: \"\", // ID of the location to edit\r\n    };\r\n  },\r\n  methods: {\r\n    async fetchSuggestions() {\r\n      if (!this.searchQuery) {\r\n        this.suggestions = [];\r\n        return;\r\n      }\r\n\r\n      const response = await fetch(\r\n        `https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(\r\n          this.searchQuery\r\n        )}.json?access_token=${mapboxgl.accessToken}&autocomplete=true&limit=5`\r\n      );\r\n      const data = await response.json();\r\n      this.suggestions = data.features;\r\n    },\r\n    selectSuggestion(suggestion) {\r\n      this.searchQuery = suggestion.place_name;\r\n      this.suggestions = [];\r\n      const [lng, lat] = suggestion.center;\r\n      this.setMarker(lng, lat);\r\n    },\r\n    highlightSuggestion(direction) {\r\n      const max = this.suggestions.length - 1;\r\n      if (max < 0) return;\r\n\r\n      this.highlighted += direction;\r\n      if (this.highlighted < 0) this.highlighted = max;\r\n      if (this.highlighted > max) this.highlighted = 0;\r\n    },\r\n    selectHighlighted() {\r\n      if (this.highlighted >= 0 && this.highlighted < this.suggestions.length) {\r\n        this.selectSuggestion(this.suggestions[this.highlighted]);\r\n      }\r\n    },\r\n    setMarker(lng, lat) {\r\n      if (!this.map) return;\r\n      this.map.flyTo({ center: [lng, lat], zoom: 14 });\r\n\r\n      if (this.marker) {\r\n        this.marker.setLngLat([lng, lat]);\r\n      } else {\r\n        this.marker = new mapboxgl.Marker({ color: \"red\", draggable: true })\r\n          .setLngLat([lng, lat])\r\n          .addTo(this.map);\r\n\r\n        this.marker.on(\"dragend\", this.reverseGeocodeMarker);\r\n      }\r\n\r\n      this.reverseGeocodeMarker();\r\n      this.locationCoords = { lng, lat };\r\n    },\r\n    async reverseGeocodeMarker() {\r\n      const lngLat = this.marker.getLngLat();\r\n      const response = await fetch(\r\n        `https://api.mapbox.com/geocoding/v5/mapbox.places/${lngLat.lng},${lngLat.lat}.json?access_token=${mapboxgl.accessToken}`\r\n      );\r\n      const data = await response.json();\r\n      if (data.features[0]) {\r\n        this.searchQuery = data.features[0].place_name;\r\n      }\r\n    },\r\n    uploadImage() {\r\n      const input = document.createElement(\"input\");\r\n      input.type = \"file\";\r\n      input.accept = \"image/*\";\r\n      input.onchange = (event) => {\r\n        this.imageFile = event.target.files[0];\r\n        if (this.imageFile) {\r\n          const reader = new FileReader();\r\n          reader.onload = (e) => {\r\n            this.imageUrl = e.target.result;\r\n          };\r\n          reader.readAsDataURL(this.imageFile);\r\n        }\r\n      };\r\n      input.click();\r\n    },\r\n    removeImage() {\r\n      this.imageFile = null;\r\n      this.imageUrl = \"\";\r\n    },\r\n    startDrag() {\r\n      this.isDragging = true;\r\n      this.dragStyle = {\r\n        cursor: \"grabbing\",\r\n        opacity: 0.7,\r\n      };\r\n    },\r\n    endDrag() {\r\n      this.isDragging = false;\r\n      this.dragStyle = {};\r\n    },\r\n    async loadLocationData() {\r\n      const db = getFirestore();\r\n      const locationRef = doc(db, \"locations\", this.$route.params.id);\r\n      const locationDoc = await getDoc(locationRef);\r\n\r\n      if (locationDoc.exists()) {\r\n        const locationData = locationDoc.data();\r\n        this.locationId = locationDoc.id;\r\n        this.locationName = locationData.name;\r\n        this.locationDescription = locationData.description;\r\n        this.searchQuery = locationData.address;\r\n        this.locationCoords = locationData.coordinates;\r\n        this.imageUrl = locationData.imageUrl;\r\n        this.setMarker(\r\n          locationData.coordinates.lng,\r\n          locationData.coordinates.lat\r\n        );\r\n      }\r\n    },\r\n    async saveLocation() {\r\n      // Check if the required fields are filled\r\n      if (!this.locationName || !this.searchQuery || !this.locationCoords) {\r\n        alert(\"Будь ласка, заповніть всі обов'язкові поля!\");\r\n        return;\r\n      }\r\n\r\n      // Only upload image if the user selected a new one\r\n      let imageUrl = this.imageUrl; // Use existing image URL if no new image is uploaded\r\n      if (this.imageFile) {\r\n        const storage = getStorage();\r\n        const storageRef = ref(\r\n          storage,\r\n          `locations/${Date.now()}_${this.imageFile.name}`\r\n        );\r\n\r\n        try {\r\n          const snapshot = await uploadBytes(storageRef, this.imageFile);\r\n          imageUrl = await getDownloadURL(snapshot.ref);\r\n        } catch (error) {\r\n          console.error(\"Error uploading image:\", error);\r\n          alert(\"Сталася помилка при завантаженні фото.\");\r\n          return;\r\n        }\r\n      }\r\n\r\n      const db = getFirestore();\r\n      const auth = getAuth();\r\n      const user = auth.currentUser;\r\n\r\n      let username = \"Без імені\";\r\n      const userDocRef = doc(db, \"users\", user.uid);\r\n      const userDocSnap = await getDoc(userDocRef);\r\n\r\n      if (userDocSnap.exists()) {\r\n        username = userDocSnap.data().username || username;\r\n      }\r\n\r\n      const locationRef = doc(db, \"locations\", this.locationId);\r\n      try {\r\n        await updateDoc(locationRef, {\r\n          name: this.locationName,\r\n          description: this.locationDescription,\r\n          address: this.searchQuery,\r\n          coordinates: this.locationCoords,\r\n          userUid: user.uid,\r\n          username: username,\r\n          imageUrl: imageUrl, // Updated or existing image URL\r\n          status: \"pending\", // Reset the status to \"pending\" after editing\r\n          updatedAt: Timestamp.fromDate(new Date()),\r\n        });\r\n\r\n        alert(\"Локацію успішно оновлено!\");\r\n        this.$router.push(\"/my-publications\");\r\n      } catch (error) {\r\n        console.error(\"Error saving location:\", error);\r\n        alert(\"Сталася помилка при збереженні локації.\");\r\n      }\r\n    },\r\n    cancel() {\r\n      this.$router.push(\"/my-publications\");\r\n    },\r\n  },\r\n  mounted() {\r\n    this.loadLocationData();\r\n\r\n    this.map = new mapboxgl.Map({\r\n      container: this.$refs.mapContainer,\r\n      style: \"mapbox://styles/mapbox/streets-v11\",\r\n      center: [25.0, 49.0],\r\n      zoom: 8,\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.create {\r\n  padding: 40px;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.island-create {\r\n  background-color: black;\r\n  padding: 30px 100px 80px 100px;\r\n  width: 1000px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 20px;\r\n}\r\n\r\n.location-title {\r\n  font-size: 1.3rem;\r\n  color: white;\r\n  margin: 0;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.b-c {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  padding: 20px 20px;\r\n  gap: 20px;\r\n  width: 100%;\r\n  border: 2px solid white;\r\n  box-sizing: border-box;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.l-c {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 20px;\r\n  max-width: 300px;\r\n  flex: 1;\r\n}\r\n\r\n.p-t {\r\n  font-size: 1.1rem;\r\n  color: white;\r\n}\r\n\r\n.address-input {\r\n  width: 270px;\r\n  padding: 10px;\r\n  background: transparent;\r\n  border: none;\r\n  border-bottom: 2px solid white;\r\n  color: white;\r\n  font-size: 1rem;\r\n  outline: none;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.location-map {\r\n  width: 100%;\r\n  max-width: 650px;\r\n  height: 350px;\r\n  border: 2px solid white;\r\n  position: relative;\r\n  box-sizing: border-box;\r\n  overflow: hidden;\r\n}\r\n\r\n.suggestions {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n  width: 100%;\r\n  background: black;\r\n  border: 1px solid white;\r\n  max-height: 150px;\r\n  overflow-y: auto;\r\n  color: white;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.suggestions li {\r\n  padding: 10px;\r\n  cursor: pointer;\r\n}\r\n\r\n.suggestions li.active {\r\n  background-color: white;\r\n  color: black;\r\n}\r\n\r\n.c-button {\r\n  background-color: black;\r\n  color: white;\r\n  padding: 7px 8px;\r\n  text-decoration: none;\r\n  font-size: 0.9rem;\r\n  border: 2px solid white;\r\n  cursor: pointer;\r\n  width: 150px;\r\n}\r\n\r\n.image-upload-area {\r\n  width: 650px;\r\n  height: 300px;\r\n  background-color: gray;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: white;\r\n  text-align: center;\r\n  border: 2px solid white;\r\n  cursor: grab;\r\n}\r\n\r\n.image-preview {\r\n  width: 650px;\r\n  height: 300px;\r\n  background-size: cover;\r\n  background-position: center;\r\n  border: 2px solid white;\r\n}\r\n.b-c-det {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  padding: 20px 20px;\r\n  gap: 20px;\r\n  width: 100%;\r\n  border: 2px solid white;\r\n  box-sizing: border-box;\r\n  flex-wrap: wrap;\r\n  text-align: center;\r\n}\r\n.det-inp {\r\n  width: 100%;\r\n  padding: 10px;\r\n  background: transparent;\r\n  border: none;\r\n  border-bottom: 2px solid white;\r\n  color: white;\r\n  font-size: 1rem;\r\n  outline: none;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.location-buttons {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  gap: 20px;\r\n  margin-top: 20px;\r\n  width: 100%;\r\n}\r\n\r\n.location-buttons .c-button {\r\n  width: 100%;\r\n  max-width: 150px;\r\n  font-size: 1rem;\r\n  height: 40px;\r\n}\r\n</style>\r\n","import { render } from \"./EditLocation.vue?vue&type=template&id=280151d0&scoped=true\"\nimport script from \"./EditLocation.vue?vue&type=script&lang=js\"\nexport * from \"./EditLocation.vue?vue&type=script&lang=js\"\n\nimport \"./EditLocation.vue?vue&type=style&index=0&id=280151d0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-280151d0\"]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router';\r\nimport HomeView from '../views/HomeView.vue';\r\nimport Start from '@/views/Start.vue';\r\nimport Login from '@/views/Login.vue';\r\nimport Registration from '@/views/Registration.vue';\r\nimport Profile from '@/views/Profile.vue';\r\nimport CreateLocation from '@/views/CreateLocation.vue';\r\nimport Approve from '@/views/Approve.vue';\r\nimport MyPublications from '@/views/MyPublications.vue';\r\nimport EditLocation from '@/views/EditLocation.vue';\r\nimport { getAuth, onAuthStateChanged } from 'firebase/auth';\r\n\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    name: 'start',\r\n    component: Start\r\n  },\r\n  {\r\n    path: '/home',\r\n    name: 'home',\r\n    component: HomeView\r\n  },\r\n  {\r\n    path: '/login',\r\n    name: 'login',\r\n    component: Login\r\n  },\r\n  {\r\n    path: '/registration',\r\n    name: 'registration',\r\n    component: Registration\r\n  },\r\n  {\r\n    path: '/profile',\r\n    name: 'profile',\r\n    component: Profile,\r\n    meta: { requiresAuth: true }\r\n  },\r\n  {\r\n    path: '/create-location',\r\n    name: 'create-location',\r\n    component: CreateLocation,\r\n    meta: { requiresAuth: true }\r\n  },\r\n  {\r\n    path: '/approve',\r\n    name: 'approve', \r\n    component: Approve,\r\n    meta: { requiresAuth: true }\r\n  },\r\n  {\r\n    path: '/my-publications',\r\n    name: 'my-publications',\r\n    component: MyPublications,\r\n    meta: { requiresAuth: true }\r\n  },\r\n  {\r\n    path: '/edit-location/:id',\r\n    name: 'edit-location',\r\n    component: EditLocation,\r\n    meta: { requiresAuth: true },\r\n    props: true\r\n  },\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes\r\n});\r\n\r\nconst getCurrentUser = () => {\r\n  return new Promise((resolve, reject) => {\r\n    const removeListener = onAuthStateChanged(\r\n      getAuth(),\r\n      (user) => {\r\n        removeListener();\r\n        resolve(user);\r\n      },\r\n      reject\r\n    );\r\n  });\r\n};\r\n\r\nrouter.beforeEach(async (to, from, next) => {\r\n  if (to.matched.some((record) => record.meta.requiresAuth)) {\r\n    if (await getCurrentUser()) {\r\n      next();\r\n    } else {\r\n      console.log('You are not logged in');\r\n      next('/login');\r\n    }\r\n  } else {\r\n    next();\r\n  }\r\n});\r\n\r\nexport default router;\r\n","import { createApp } from 'vue';\r\nimport App from './App.vue';\r\nimport router from './router';\r\nimport { initializeApp } from 'firebase/app';\r\nimport { getFirestore } from 'firebase/firestore';\r\nimport { getStorage } from 'firebase/storage';\r\nimport 'mapbox-gl/dist/mapbox-gl.css';\r\n\r\ncreateApp(App).use(router).mount('#app');\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyA_e0D4JlvkLdZvTE3PA7hy0W15wTXuMxI\",\r\n  authDomain: \"kursova-5374b.firebaseapp.com\",\r\n  databaseURL: \"https://kursova-5374b-default-rtdb.europe-west1.firebasedatabase.app\",\r\n  projectId: \"kursova-5374b\",\r\n  storageBucket: \"kursova-5374b.appspot.com\",\r\n  messagingSenderId: \"444568413958\",\r\n  appId: \"1:444568413958:web:e4258c7fa4134d96fee087\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nconst db = getFirestore(app);  // Corrected\r\nconst storage = getStorage(app);  // Corrected\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkdiploma_bach\"] = self[\"webpackChunkdiploma_bach\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(399)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["script","__exports__","render","class","ref","type","placeholder","searchQuery","filteredItems","item","index","key","focusOnLocation","street","src","profileImage","alt","username","selectedLocation","addComment","newComment","comments","length","comment","text","locationImage","goToPreviousLocation","disabled","hasPrevious","goToNextLocation","hasNext","href","id","to","user","role","profilePicture","email","data","created","auth","onAuthStateChanged","async","this","fetchUserData","uid","methods","db","userRef","userDoc","exists","console","log","logout","signOut","$router","push","error","components","Navbar","Footer","locations","map","currentUser","computed","filter","toLowerCase","includes","currentIndex","findIndex","loc","watch","newVal","loadComments","fetchLocations","q","querySnapshot","locationsWithPhotos","Promise","all","docs","docSnap","coordinates","isNaN","lat","lng","userUid","userSnap","userData","address","imageUrl","forEach","location","el","document","createElement","className","style","backgroundImage","width","height","backgroundSize","cursor","setLngLat","setPopup","setHTML","addTo","addEventListener","flyTo","center","zoom","trim","commentsRef","createdAt","Date","locationId","snapshot","doc","prev","next","mounted","container","$refs","mapContainer","window","resize","images","image","name","setInterval","BackgroundSlider","loginError","login","password","custom","navigate","message","usernameError","emailError","passwordError","register","validateEmail","regex","test","validatePassword","userCredential","userDocRef","status","code","triggerFileInput","accept","handleFileChange","formatDate","rows","newDescription","saveDescription","cancelEdit","description","editingDescription","editDescription","deleteAccount","blockedUsers","blocked","blockedAt","unblockUser","userLocations","userComments","fetchUserLocations","fetchBlockedUsers","blockedUsersQuery","blockedUsersSnap","locationsQuery","locationsSnap","date","d","toDate","toLocaleDateString","then","catch","delete","userId","fileInput","click","event","file","target","files","storage","fileRef","downloadURL","updateProfilePicture","fetchSuggestions","highlightSuggestion","selectHighlighted","suggestions","suggestion","highlighted","selectSuggestion","place_name","uploadImage","removeImage","onDrop","startDrag","endDrag","dragStyle","draggable","required","locationName","locationDescription","saveLocation","cancel","marker","isDragging","locationCoords","imageFile","response","fetch","encodeURIComponent","json","features","setMarker","direction","max","color","on","reverseGeocodeMarker","lngLat","getLngLat","input","onchange","reader","FileReader","onload","e","result","readAsDataURL","opacity","alert","storageRef","now","userDocSnap","locationRef","fromDate","clearForm","requests","request","approveRequest","rejectRequest","requestsWithPhotos","getUserPhotoByUsername","usersRef","empty","photoURL","req","publications","publication","showActions","deletePublication","isMounted","publicationRef","pub","editPublication","onBeforeUnmount","loadLocationData","$route","params","locationDoc","locationData","updatedAt","routes","path","component","Start","HomeView","Login","Registration","Profile","meta","requiresAuth","CreateLocation","Approve","MyPublications","EditLocation","props","router","history","getCurrentUser","resolve","reject","removeListener","beforeEach","from","matched","some","record","App","use","mount","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","app","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","splice","r","n","getter","__esModule","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}